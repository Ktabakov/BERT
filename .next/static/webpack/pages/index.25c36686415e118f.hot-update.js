"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./public/useFlappyBirdGame.ts":
/*!*************************************!*\
  !*** ./public/useFlappyBirdGame.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFlappyBirdGame: function() { return /* binding */ useFlappyBirdGame; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Constants\nconst GRAVITY = 0.25;\nconst FLAP = -7.5;\nconst PIPE_WIDTH = 90;\nconst PIPE_SPACING = 250;\nconst BIRD_WIDTH = 50;\nconst BIRD_HEIGHT = 50;\nconst COIN_SIZE = 100;\nconst ROTATION_SPEED = 0.005;\n// How often to spawn pipes in terms of frames\n// ~100 frames at ~60fps is ~1.66 seconds. Adjust as needed\nconst PIPE_SPAWN_FRAMES = 100;\nfunction useFlappyBirdGame(canvasRef, isPaused, autoStart) {\n    const requestIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // State refs\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [currentScore, setCurrentScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const currentBirdFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const birdYRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const birdVelocityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const pipesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const coinsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const gameOverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const gameStartedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const coinRotationStepRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const framesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0); // Count frames\n    // Assets\n    let birdImages = [];\n    let pipeTop;\n    let pipeBottom;\n    let background;\n    let coinImage;\n    if (true) {\n        const birdUp = new Image();\n        birdUp.src = \"/assets/redbird-upflap.png\";\n        const birdMid = new Image();\n        birdMid.src = \"/assets/redbird-midflap.png\";\n        const birdDown = new Image();\n        birdDown.src = \"/assets/redbird-downflap.png\";\n        birdImages = [\n            birdUp,\n            birdMid,\n            birdDown\n        ];\n        pipeTop = new Image();\n        pipeTop.src = \"/assets/TopTiny.png\";\n        pipeBottom = new Image();\n        pipeBottom.src = \"/assets/BottomTiny.png\";\n        background = new Image();\n        background.src = \"/assets/background-day.png\";\n        coinImage = new Image();\n        coinImage.src = \"/assets/CoinTiny.png\";\n    }\n    const loadImage = (img)=>{\n        return new Promise((resolve, reject)=>{\n            if (img.complete) {\n                resolve();\n            } else {\n                img.onload = ()=>resolve();\n                img.onerror = ()=>reject(new Error(\"Failed to load image: \".concat(img.src)));\n            }\n        });\n    };\n    // Load high score from localStorage after mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (true) {\n            const storedHighScore = localStorage.getItem(\"highScore\");\n            if (storedHighScore) {\n                setHighScore(parseInt(storedHighScore, 10));\n            }\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        function resetGame() {\n            const c = canvasRef.current;\n            if (!c) return;\n            const { width, height } = c;\n            birdYRef.current = height / 3;\n            birdVelocityRef.current = 0;\n            pipesRef.current = [];\n            coinsRef.current = [];\n            setCurrentScore(0);\n            gameOverRef.current = false;\n            gameStartedRef.current = false;\n            coinRotationStepRef.current = 0;\n            framesRef.current = 0;\n        }\n        function handleKeyDown(e) {\n            if (e.key === \" \") {\n                if (!gameStartedRef.current && !gameOverRef.current) {\n                    startGame();\n                } else if (gameOverRef.current) {\n                    startGame();\n                } else {\n                    birdVelocityRef.current = FLAP;\n                    flap();\n                }\n            }\n        }\n        background.onload = ()=>{\n            console.log(\"Background image loaded!\");\n            const canvas = canvasRef.current;\n            if (canvas) {\n                const ctx = canvas.getContext(\"2d\");\n                if (ctx) initializeGame();\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        function handleResize() {\n            const c = canvasRef.current;\n            if (!c) return;\n            c.width = 360;\n            c.height = 640;\n            if (!gameStartedRef.current && !gameOverRef.current && ctx) {\n                drawStartScreen(ctx, c);\n            }\n        }\n        window.addEventListener(\"resize\", handleResize);\n        // Initialize the game\n        const initializeGame = ()=>{\n            canvas.width = 360;\n            canvas.height = 640;\n            drawStartScreen(ctx, canvas);\n        };\n        initializeGame();\n        function startGame() {\n            resetGame();\n            gameStartedRef.current = true;\n            animate(); // Start the loop\n        }\n        function animate() {\n            if (isPaused || !gameStartedRef.current) {\n                // If paused or not started, just request next frame without updating state\n                requestIdRef.current = requestAnimationFrame(animate);\n                return;\n            }\n            const c = canvasRef.current;\n            if (!c) return;\n            const context = c.getContext(\"2d\");\n            if (!context) return;\n            updateGameState(c);\n            draw(context, c);\n            if (!gameOverRef.current) {\n                requestIdRef.current = requestAnimationFrame(animate);\n            } else {\n                drawGameOverScreen(context, c);\n            }\n        }\n        function updateGameState(canvas) {\n            framesRef.current++;\n            // Gravity\n            birdVelocityRef.current += GRAVITY;\n            birdYRef.current += birdVelocityRef.current;\n            // Spawn pipes every PIPE_SPAWN_FRAMES frames\n            if (framesRef.current % PIPE_SPAWN_FRAMES === 0) {\n                createPipe(canvas);\n            }\n            movePipesAndCoins();\n            checkCoinCollection();\n            // Check collisions after movement\n            if (checkCollisions(canvas)) {\n                gameOverRef.current = true;\n                return;\n            }\n            updateScore();\n            // Rotate coin a bit each frame\n            coinRotationStepRef.current += ROTATION_SPEED;\n            if (coinRotationStepRef.current >= 1) coinRotationStepRef.current = 0;\n        }\n        function draw(ctx, canvas) {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            drawBackground(ctx, canvas);\n            drawBird(ctx);\n            drawPipes(ctx);\n            drawCoins(ctx);\n        }\n        function drawStartScreen(ctx, canvas) {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            drawBackground(ctx, canvas);\n            ctx.font = \"bold 30px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillStyle = \"#ffffff\";\n            ctx.shadowColor = \"black\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillText(\"Press Space to Start\", canvas.width / 2, canvas.height / 2);\n        }\n        function drawGameOverScreen(ctx, canvas) {\n            ctx.fillStyle = \"#ffcc00\";\n            ctx.font = \"bold 50px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.shadowColor = \"black\";\n            ctx.shadowBlur = 10;\n            ctx.fillText(\"Game Over!\", canvas.width / 2, canvas.height / 2 - 40);\n            ctx.fillStyle = \"#ffffff\";\n            ctx.font = \"bold 30px Arial\";\n            ctx.fillText(\"Press Space to Restart\", canvas.width / 2, canvas.height / 2 + 20);\n            ctx.fillStyle = \"#ffff00\";\n            ctx.font = \"30px Arial\";\n        }\n        function drawBackground(ctx, canvas) {\n            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n        }\n        function drawBird(ctx) {\n            const currentImage = birdImages[currentBirdFrameRef.current];\n            if (currentImage.complete) {\n                ctx.drawImage(currentImage, 100, birdYRef.current, BIRD_WIDTH, BIRD_HEIGHT);\n            } else {\n                // Optionally, handle the case where the image hasn't loaded yet\n                console.warn(\"Bird image at index \".concat(currentBirdFrameRef.current, \" not loaded yet.\"));\n            }\n        }\n        function drawPipes(ctx) {\n            for (const pipe of pipesRef.current){\n                ctx.drawImage(pipeTop, pipe.x, 0, PIPE_WIDTH, pipe.topHeight);\n                ctx.drawImage(pipeBottom, pipe.x, pipe.bottomY, PIPE_WIDTH, pipe.bottomHeight);\n            }\n        }\n        function drawCoins(ctx) {\n            const scaleX = Math.abs(Math.cos(coinRotationStepRef.current * Math.PI * 2));\n            const halfSize = COIN_SIZE / 2;\n            for (const coin of coinsRef.current){\n                if (!coin.collected) {\n                    ctx.save();\n                    ctx.translate(coin.x + halfSize, coin.y + halfSize);\n                    ctx.scale(scaleX, 1);\n                    ctx.drawImage(coinImage, -halfSize, -halfSize, COIN_SIZE, COIN_SIZE);\n                    ctx.restore();\n                }\n            }\n        }\n        function createPipe(canvas) {\n            const pipeHeight = Math.random() * (canvas.height - PIPE_SPACING - 100) + 50;\n            const bottomY = pipeHeight + PIPE_SPACING;\n            pipesRef.current.push({\n                x: canvas.width,\n                topHeight: pipeHeight,\n                bottomY,\n                bottomHeight: canvas.height - bottomY,\n                scored: false\n            });\n            // 50% chance to spawn a coin\n            if (Math.random() > 0.5) {\n                coinsRef.current.push({\n                    x: canvas.width + PIPE_WIDTH / 2 - COIN_SIZE / 2,\n                    y: pipeHeight + PIPE_SPACING / 2 - COIN_SIZE / 2,\n                    width: COIN_SIZE,\n                    height: COIN_SIZE,\n                    collected: false\n                });\n            }\n        }\n        function movePipesAndCoins() {\n            for (const pipe of pipesRef.current){\n                pipe.x -= 2;\n            }\n            pipesRef.current = pipesRef.current.filter((pipe)=>pipe.x + PIPE_WIDTH > 0);\n            for (const coin of coinsRef.current){\n                coin.x -= 2;\n            }\n            coinsRef.current = coinsRef.current.filter((coin)=>coin.x + coin.width > 0 && !coin.collected);\n        }\n        const flap = ()=>{\n            currentBirdFrameRef.current = 1;\n            setTimeout(()=>{\n                currentBirdFrameRef.current = 2;\n                setTimeout(()=>{\n                    currentBirdFrameRef.current = 0;\n                }, 100);\n            }, 100);\n        };\n        function checkCollisions(canvas) {\n            if (birdYRef.current < 0 || birdYRef.current + BIRD_HEIGHT > canvas.height) {\n                return true;\n            }\n            const birdLeft = 100;\n            const birdRight = birdLeft + BIRD_WIDTH;\n            const birdTop = birdYRef.current;\n            const birdBottom = birdYRef.current + BIRD_HEIGHT;\n            for (const pipe of pipesRef.current){\n                const withinPipeX = birdRight > pipe.x && birdLeft < pipe.x + PIPE_WIDTH;\n                const withinPipeY = birdTop < pipe.topHeight || birdBottom > pipe.bottomY;\n                if (withinPipeX && withinPipeY) return true;\n            }\n            return false;\n        }\n        function checkCoinCollection() {\n            const birdLeft = 100;\n            const birdRight = birdLeft + BIRD_WIDTH;\n            const birdTop = birdYRef.current;\n            const birdBottom = birdYRef.current + BIRD_HEIGHT;\n            for (const coin of coinsRef.current){\n                if (!coin.collected) {\n                    const coinLeft = coin.x;\n                    const coinRight = coin.x + coin.width;\n                    const coinTop = coin.y;\n                    const coinBottom = coin.y + coin.height;\n                    if (birdRight > coinLeft && birdLeft < coinRight && birdBottom > coinTop && birdTop < coinBottom) {\n                        coin.collected = true;\n                        setCurrentScore((prevScore)=>{\n                            const newScore = prevScore + 5;\n                            setHighScore((prevHighScore)=>Math.max(prevHighScore, newScore));\n                            return newScore;\n                        });\n                    }\n                }\n            }\n        }\n        function updateScore() {\n            for (const pipe of pipesRef.current){\n                if (!pipe.scored && pipe.x + PIPE_WIDTH < 100) {\n                    setCurrentScore((prevScore)=>{\n                        const newScore = prevScore + 1;\n                        setHighScore((prevHighScore)=>{\n                            const updatedHighScore = Math.max(prevHighScore, newScore);\n                            if (true) {\n                                localStorage.setItem(\"highScore\", updatedHighScore.toString());\n                            }\n                            return updatedHighScore;\n                        });\n                        return newScore;\n                    });\n                    pipe.scored = true;\n                }\n            }\n        }\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"resize\", handleResize);\n            if (requestIdRef.current) {\n                cancelAnimationFrame(requestIdRef.current);\n            }\n        };\n    }, [\n        canvasRef,\n        isPaused,\n        autoStart\n    ]);\n    return {\n        highScore,\n        currentScore\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvdXNlRmxhcHB5QmlyZEdhbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBbUJwRCxZQUFZO0FBQ1osTUFBTUcsVUFBVTtBQUNoQixNQUFNQyxPQUFPLENBQUM7QUFDZCxNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxjQUFjO0FBQ3BCLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsaUJBQWlCO0FBRXZCLDhDQUE4QztBQUM5QywyREFBMkQ7QUFDM0QsTUFBTUMsb0JBQW9CO0FBRW5CLFNBQVNDLGtCQUFrQkMsU0FBNkMsRUFBRUMsUUFBaUIsRUFBRUMsU0FBa0I7SUFDbEgsTUFBTUMsZUFBZWYsNkNBQU1BLENBQWdCO0lBRTdDLGFBQWE7SUFDYixNQUFNLENBQUNnQixXQUFXQyxhQUFhLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNpQixjQUFjQyxnQkFBZ0IsR0FBR2xCLCtDQUFRQSxDQUFDO0lBRWpELE1BQU1tQixzQkFBc0JwQiw2Q0FBTUEsQ0FBUztJQUMzQyxNQUFNcUIsV0FBV3JCLDZDQUFNQSxDQUFTO0lBQ2hDLE1BQU1zQixrQkFBa0J0Qiw2Q0FBTUEsQ0FBUztJQUN2QyxNQUFNdUIsV0FBV3ZCLDZDQUFNQSxDQUFTLEVBQUU7SUFDbEMsTUFBTXdCLFdBQVd4Qiw2Q0FBTUEsQ0FBUyxFQUFFO0lBQ2xDLE1BQU15QixjQUFjekIsNkNBQU1BLENBQVU7SUFDcEMsTUFBTTBCLGlCQUFpQjFCLDZDQUFNQSxDQUFVO0lBRXZDLE1BQU0yQixzQkFBc0IzQiw2Q0FBTUEsQ0FBUztJQUMzQyxNQUFNNEIsWUFBWTVCLDZDQUFNQSxDQUFTLElBQUksZUFBZTtJQUV0RCxTQUFTO0lBQ1QsSUFBSTZCLGFBQWlDLEVBQUU7SUFDdkMsSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlDO0lBQ0osSUFBSUM7SUFFSixJQUFJLElBQTZCLEVBQUU7UUFDakMsTUFBTUMsU0FBUyxJQUFJQztRQUNuQkQsT0FBT0UsR0FBRyxHQUFHO1FBRWIsTUFBTUMsVUFBVSxJQUFJRjtRQUNwQkUsUUFBUUQsR0FBRyxHQUFHO1FBRWQsTUFBTUUsV0FBVyxJQUFJSDtRQUNyQkcsU0FBU0YsR0FBRyxHQUFHO1FBRWZQLGFBQWE7WUFBQ0s7WUFBUUc7WUFBU0M7U0FBUztRQUV4Q1IsVUFBVSxJQUFJSztRQUNkTCxRQUFRTSxHQUFHLEdBQUc7UUFFZEwsYUFBYSxJQUFJSTtRQUNqQkosV0FBV0ssR0FBRyxHQUFHO1FBRWpCSixhQUFhLElBQUlHO1FBQ2pCSCxXQUFXSSxHQUFHLEdBQUc7UUFFakJILFlBQVksSUFBSUU7UUFDaEJGLFVBQVVHLEdBQUcsR0FBRztJQUNsQjtJQUVBLE1BQU1HLFlBQVksQ0FBQ0M7UUFDakIsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1lBQzNCLElBQUlILElBQUlJLFFBQVEsRUFBRTtnQkFDaEJGO1lBQ0YsT0FBTztnQkFDTEYsSUFBSUssTUFBTSxHQUFHLElBQU1IO2dCQUNuQkYsSUFBSU0sT0FBTyxHQUFHLElBQU1ILE9BQU8sSUFBSUksTUFBTSx5QkFBaUMsT0FBUlAsSUFBSUosR0FBRztZQUN2RTtRQUNGO0lBQ0Y7SUFFRSxnREFBZ0Q7SUFDaERyQyxnREFBU0EsQ0FBQztRQUNSLElBQUksSUFBNkIsRUFBRTtZQUNqQyxNQUFNaUQsa0JBQWtCQyxhQUFhQyxPQUFPLENBQUM7WUFDN0MsSUFBSUYsaUJBQWlCO2dCQUNuQi9CLGFBQWFrQyxTQUFTSCxpQkFBaUI7WUFDekM7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMakQsZ0RBQVNBLENBQUM7UUFDUixNQUFNcUQsU0FBU3hDLFVBQVV5QyxPQUFPO1FBQ2hDLElBQUksQ0FBQ0QsUUFBUTtRQUViLE1BQU1FLE1BQU1GLE9BQU9HLFVBQVUsQ0FBQztRQUM5QixJQUFJLENBQUNELEtBQUs7UUFFVixTQUFTRTtZQUNQLE1BQU1DLElBQUk3QyxVQUFVeUMsT0FBTztZQUMzQixJQUFJLENBQUNJLEdBQUc7WUFDUixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUdGO1lBRTFCcEMsU0FBU2dDLE9BQU8sR0FBR00sU0FBUztZQUM1QnJDLGdCQUFnQitCLE9BQU8sR0FBRztZQUMxQjlCLFNBQVM4QixPQUFPLEdBQUcsRUFBRTtZQUNyQjdCLFNBQVM2QixPQUFPLEdBQUcsRUFBRTtZQUNyQmxDLGdCQUFnQjtZQUNoQk0sWUFBWTRCLE9BQU8sR0FBRztZQUN0QjNCLGVBQWUyQixPQUFPLEdBQUc7WUFDekIxQixvQkFBb0IwQixPQUFPLEdBQUc7WUFDOUJ6QixVQUFVeUIsT0FBTyxHQUFHO1FBQ3RCO1FBRUEsU0FBU08sY0FBY0MsQ0FBZ0I7WUFDckMsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLEtBQUs7Z0JBQ2pCLElBQUksQ0FBQ3BDLGVBQWUyQixPQUFPLElBQUksQ0FBQzVCLFlBQVk0QixPQUFPLEVBQUU7b0JBQ25EVTtnQkFDRixPQUFPLElBQUl0QyxZQUFZNEIsT0FBTyxFQUFFO29CQUM5QlU7Z0JBQ0YsT0FBTztvQkFDTHpDLGdCQUFnQitCLE9BQU8sR0FBR2xEO29CQUMxQjZEO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBaEMsV0FBV2EsTUFBTSxHQUFHO1lBQ2hCb0IsUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTWQsU0FBU3hDLFVBQVV5QyxPQUFPO1lBQ2hDLElBQUlELFFBQVE7Z0JBQ1YsTUFBTUUsTUFBTUYsT0FBT0csVUFBVSxDQUFDO2dCQUM5QixJQUFJRCxLQUFLYTtZQUNYO1FBQ0Y7UUFFRkMsT0FBT0MsZ0JBQWdCLENBQUMsV0FBV1Q7UUFFbkMsU0FBU1U7WUFDUCxNQUFNYixJQUFJN0MsVUFBVXlDLE9BQU87WUFDM0IsSUFBSSxDQUFDSSxHQUFHO1lBQ1JBLEVBQUVDLEtBQUssR0FBRztZQUNWRCxFQUFFRSxNQUFNLEdBQUc7WUFFWCxJQUFJLENBQUNqQyxlQUFlMkIsT0FBTyxJQUFJLENBQUM1QixZQUFZNEIsT0FBTyxJQUFJQyxLQUFLO2dCQUMxRGlCLGdCQUFnQmpCLEtBQUtHO1lBQ3ZCO1FBQ0Y7UUFDQVcsT0FBT0MsZ0JBQWdCLENBQUMsVUFBVUM7UUFFbEMsc0JBQXNCO1FBQ3RCLE1BQU1ILGlCQUFpQjtZQUNuQmYsT0FBT00sS0FBSyxHQUFHO1lBQ2ZOLE9BQU9PLE1BQU0sR0FBRztZQUNoQlksZ0JBQWdCakIsS0FBS0Y7UUFDekI7UUFFQWU7UUFFQSxTQUFTSjtZQUNQUDtZQUNBOUIsZUFBZTJCLE9BQU8sR0FBRztZQUN6Qm1CLFdBQVcsaUJBQWlCO1FBQzlCO1FBRUEsU0FBU0E7WUFDUCxJQUFJM0QsWUFBWSxDQUFDYSxlQUFlMkIsT0FBTyxFQUFFO2dCQUN2QywyRUFBMkU7Z0JBQzNFdEMsYUFBYXNDLE9BQU8sR0FBR29CLHNCQUFzQkQ7Z0JBQzdDO1lBQ0Y7WUFFQSxNQUFNZixJQUFJN0MsVUFBVXlDLE9BQU87WUFDM0IsSUFBSSxDQUFDSSxHQUFHO1lBQ1IsTUFBTWlCLFVBQVVqQixFQUFFRixVQUFVLENBQUM7WUFDN0IsSUFBSSxDQUFDbUIsU0FBUztZQUVkQyxnQkFBZ0JsQjtZQUNoQm1CLEtBQUtGLFNBQVNqQjtZQUVkLElBQUksQ0FBQ2hDLFlBQVk0QixPQUFPLEVBQUU7Z0JBQ3hCdEMsYUFBYXNDLE9BQU8sR0FBR29CLHNCQUFzQkQ7WUFDL0MsT0FBTztnQkFDTEssbUJBQW1CSCxTQUFTakI7WUFDOUI7UUFDRjtRQUVBLFNBQVNrQixnQkFBZ0J2QixNQUF5QjtZQUNoRHhCLFVBQVV5QixPQUFPO1lBRWpCLFVBQVU7WUFDVi9CLGdCQUFnQitCLE9BQU8sSUFBSW5EO1lBQzNCbUIsU0FBU2dDLE9BQU8sSUFBSS9CLGdCQUFnQitCLE9BQU87WUFFM0MsNkNBQTZDO1lBQzdDLElBQUl6QixVQUFVeUIsT0FBTyxHQUFHM0Msc0JBQXNCLEdBQUc7Z0JBQy9Db0UsV0FBVzFCO1lBQ2I7WUFFQTJCO1lBQ0FDO1lBRUEsa0NBQWtDO1lBQ2xDLElBQUlDLGdCQUFnQjdCLFNBQVM7Z0JBQzNCM0IsWUFBWTRCLE9BQU8sR0FBRztnQkFDdEI7WUFDRjtZQUVBNkI7WUFFQSwrQkFBK0I7WUFDL0J2RCxvQkFBb0IwQixPQUFPLElBQUk1QztZQUMvQixJQUFJa0Isb0JBQW9CMEIsT0FBTyxJQUFJLEdBQUcxQixvQkFBb0IwQixPQUFPLEdBQUc7UUFDdEU7UUFFQSxTQUFTdUIsS0FBS3RCLEdBQTZCLEVBQUVGLE1BQXlCO1lBQ3BFRSxJQUFJNkIsU0FBUyxDQUFDLEdBQUcsR0FBRy9CLE9BQU9NLEtBQUssRUFBRU4sT0FBT08sTUFBTTtZQUMvQ3lCLGVBQWU5QixLQUFLRjtZQUNwQmlDLFNBQVMvQjtZQUNUZ0MsVUFBVWhDO1lBQ1ZpQyxVQUFVakM7UUFDWjtRQUdBLFNBQVNpQixnQkFBZ0JqQixHQUE2QixFQUFFRixNQUF5QjtZQUMvRUUsSUFBSTZCLFNBQVMsQ0FBQyxHQUFHLEdBQUcvQixPQUFPTSxLQUFLLEVBQUVOLE9BQU9PLE1BQU07WUFDL0N5QixlQUFlOUIsS0FBS0Y7WUFDcEJFLElBQUlrQyxJQUFJLEdBQUc7WUFDWGxDLElBQUltQyxTQUFTLEdBQUc7WUFDaEJuQyxJQUFJb0MsU0FBUyxHQUFHO1lBQ2hCcEMsSUFBSXFDLFdBQVcsR0FBRztZQUNsQnJDLElBQUlzQyxZQUFZLEdBQUc7WUFDbkJ0QyxJQUFJdUMsUUFBUSxDQUFDLHdCQUF3QnpDLE9BQU9NLEtBQUssR0FBRyxHQUFHTixPQUFPTyxNQUFNLEdBQUc7UUFDekU7UUFFQSxTQUFTa0IsbUJBQW1CdkIsR0FBNkIsRUFBRUYsTUFBeUI7WUFDbEZFLElBQUlvQyxTQUFTLEdBQUc7WUFDaEJwQyxJQUFJa0MsSUFBSSxHQUFHO1lBQ1hsQyxJQUFJbUMsU0FBUyxHQUFHO1lBQ2hCbkMsSUFBSXNDLFlBQVksR0FBRztZQUNuQnRDLElBQUlxQyxXQUFXLEdBQUc7WUFDbEJyQyxJQUFJd0MsVUFBVSxHQUFHO1lBRWpCeEMsSUFBSXVDLFFBQVEsQ0FBQyxjQUFjekMsT0FBT00sS0FBSyxHQUFHLEdBQUdOLE9BQU9PLE1BQU0sR0FBRyxJQUFJO1lBRWpFTCxJQUFJb0MsU0FBUyxHQUFHO1lBQ2hCcEMsSUFBSWtDLElBQUksR0FBRztZQUNYbEMsSUFBSXVDLFFBQVEsQ0FBQywwQkFBMEJ6QyxPQUFPTSxLQUFLLEdBQUcsR0FBR04sT0FBT08sTUFBTSxHQUFHLElBQUk7WUFFN0VMLElBQUlvQyxTQUFTLEdBQUc7WUFDaEJwQyxJQUFJa0MsSUFBSSxHQUFHO1FBQ2I7UUFFQSxTQUFTSixlQUFlOUIsR0FBNkIsRUFBRUYsTUFBeUI7WUFDOUVFLElBQUl5QyxTQUFTLENBQUMvRCxZQUFZLEdBQUcsR0FBR29CLE9BQU9NLEtBQUssRUFBRU4sT0FBT08sTUFBTTtRQUM3RDtRQUVBLFNBQVMwQixTQUFTL0IsR0FBNkI7WUFDN0MsTUFBTTBDLGVBQWVuRSxVQUFVLENBQUNULG9CQUFvQmlDLE9BQU8sQ0FBQztZQUM1RCxJQUFJMkMsYUFBYXBELFFBQVEsRUFBRTtnQkFDekJVLElBQUl5QyxTQUFTLENBQUNDLGNBQWMsS0FBSzNFLFNBQVNnQyxPQUFPLEVBQUUvQyxZQUFZQztZQUNqRSxPQUFPO2dCQUNMLGdFQUFnRTtnQkFDaEUwRCxRQUFRZ0MsSUFBSSxDQUFDLHVCQUFtRCxPQUE1QjdFLG9CQUFvQmlDLE9BQU8sRUFBQztZQUNsRTtRQUNGO1FBRUEsU0FBU2lDLFVBQVVoQyxHQUE2QjtZQUM5QyxLQUFLLE1BQU00QyxRQUFRM0UsU0FBUzhCLE9BQU8sQ0FBRTtnQkFDbkNDLElBQUl5QyxTQUFTLENBQUNqRSxTQUFTb0UsS0FBS0MsQ0FBQyxFQUFFLEdBQUcvRixZQUFZOEYsS0FBS0UsU0FBUztnQkFDNUQ5QyxJQUFJeUMsU0FBUyxDQUFDaEUsWUFBWW1FLEtBQUtDLENBQUMsRUFBRUQsS0FBS0csT0FBTyxFQUFFakcsWUFBWThGLEtBQUtJLFlBQVk7WUFDL0U7UUFDRjtRQUVBLFNBQVNmLFVBQVVqQyxHQUE2QjtZQUM5QyxNQUFNaUQsU0FBU0MsS0FBS0MsR0FBRyxDQUFDRCxLQUFLRSxHQUFHLENBQUMvRSxvQkFBb0IwQixPQUFPLEdBQUdtRCxLQUFLRyxFQUFFLEdBQUc7WUFDekUsTUFBTUMsV0FBV3BHLFlBQVk7WUFFN0IsS0FBSyxNQUFNcUcsUUFBUXJGLFNBQVM2QixPQUFPLENBQUU7Z0JBQ25DLElBQUksQ0FBQ3dELEtBQUtDLFNBQVMsRUFBRTtvQkFDbkJ4RCxJQUFJeUQsSUFBSTtvQkFDUnpELElBQUkwRCxTQUFTLENBQUNILEtBQUtWLENBQUMsR0FBR1MsVUFBVUMsS0FBS0ksQ0FBQyxHQUFHTDtvQkFDMUN0RCxJQUFJNEQsS0FBSyxDQUFDWCxRQUFRO29CQUNsQmpELElBQUl5QyxTQUFTLENBQUM5RCxXQUFXLENBQUMyRSxVQUFVLENBQUNBLFVBQVVwRyxXQUFXQTtvQkFDMUQ4QyxJQUFJNkQsT0FBTztnQkFDYjtZQUNGO1FBQ0Y7UUFFQSxTQUFTckMsV0FBVzFCLE1BQXlCO1lBQzNDLE1BQU1nRSxhQUFhWixLQUFLYSxNQUFNLEtBQU1qRSxDQUFBQSxPQUFPTyxNQUFNLEdBQUd0RCxlQUFlLEdBQUUsSUFBSztZQUMxRSxNQUFNZ0csVUFBVWUsYUFBYS9HO1lBQzdCa0IsU0FBUzhCLE9BQU8sQ0FBQ2lFLElBQUksQ0FBQztnQkFDcEJuQixHQUFHL0MsT0FBT00sS0FBSztnQkFDZjBDLFdBQVdnQjtnQkFDWGY7Z0JBQ0FDLGNBQWNsRCxPQUFPTyxNQUFNLEdBQUcwQztnQkFDOUJrQixRQUFRO1lBQ1Y7WUFFQSw2QkFBNkI7WUFDN0IsSUFBSWYsS0FBS2EsTUFBTSxLQUFLLEtBQUs7Z0JBQ3ZCN0YsU0FBUzZCLE9BQU8sQ0FBQ2lFLElBQUksQ0FBQztvQkFDcEJuQixHQUFHL0MsT0FBT00sS0FBSyxHQUFHdEQsYUFBYSxJQUFJSSxZQUFZO29CQUMvQ3lHLEdBQUdHLGFBQWEvRyxlQUFlLElBQUlHLFlBQVk7b0JBQy9Da0QsT0FBT2xEO29CQUNQbUQsUUFBUW5EO29CQUNSc0csV0FBVztnQkFDYjtZQUNGO1FBQ0Y7UUFFQSxTQUFTL0I7WUFDUCxLQUFLLE1BQU1tQixRQUFRM0UsU0FBUzhCLE9BQU8sQ0FBRTtnQkFDbkM2QyxLQUFLQyxDQUFDLElBQUk7WUFDWjtZQUNBNUUsU0FBUzhCLE9BQU8sR0FBRzlCLFNBQVM4QixPQUFPLENBQUNtRSxNQUFNLENBQUN0QixDQUFBQSxPQUFRQSxLQUFLQyxDQUFDLEdBQUcvRixhQUFhO1lBRXpFLEtBQUssTUFBTXlHLFFBQVFyRixTQUFTNkIsT0FBTyxDQUFFO2dCQUNuQ3dELEtBQUtWLENBQUMsSUFBSTtZQUNaO1lBQ0EzRSxTQUFTNkIsT0FBTyxHQUFHN0IsU0FBUzZCLE9BQU8sQ0FBQ21FLE1BQU0sQ0FBQ1gsQ0FBQUEsT0FBUUEsS0FBS1YsQ0FBQyxHQUFHVSxLQUFLbkQsS0FBSyxHQUFHLEtBQUssQ0FBQ21ELEtBQUtDLFNBQVM7UUFDL0Y7UUFFQSxNQUFNOUMsT0FBTztZQUNYNUMsb0JBQW9CaUMsT0FBTyxHQUFHO1lBQzlCb0UsV0FBVztnQkFDVHJHLG9CQUFvQmlDLE9BQU8sR0FBRztnQkFDOUJvRSxXQUFXO29CQUNUckcsb0JBQW9CaUMsT0FBTyxHQUFHO2dCQUNoQyxHQUFHO1lBQ0wsR0FBRztRQUNMO1FBRUEsU0FBUzRCLGdCQUFnQjdCLE1BQXlCO1lBQ2hELElBQUkvQixTQUFTZ0MsT0FBTyxHQUFHLEtBQUtoQyxTQUFTZ0MsT0FBTyxHQUFHOUMsY0FBYzZDLE9BQU9PLE1BQU0sRUFBRTtnQkFDMUUsT0FBTztZQUNUO1lBRUEsTUFBTStELFdBQVc7WUFDakIsTUFBTUMsWUFBWUQsV0FBV3BIO1lBQzdCLE1BQU1zSCxVQUFVdkcsU0FBU2dDLE9BQU87WUFDaEMsTUFBTXdFLGFBQWF4RyxTQUFTZ0MsT0FBTyxHQUFHOUM7WUFFdEMsS0FBSyxNQUFNMkYsUUFBUTNFLFNBQVM4QixPQUFPLENBQUU7Z0JBQ25DLE1BQU15RSxjQUFjSCxZQUFZekIsS0FBS0MsQ0FBQyxJQUFJdUIsV0FBV3hCLEtBQUtDLENBQUMsR0FBRy9GO2dCQUM5RCxNQUFNMkgsY0FBY0gsVUFBVTFCLEtBQUtFLFNBQVMsSUFBSXlCLGFBQWEzQixLQUFLRyxPQUFPO2dCQUN6RSxJQUFJeUIsZUFBZUMsYUFBYSxPQUFPO1lBQ3pDO1lBRUEsT0FBTztRQUNUO1FBRUEsU0FBUy9DO1lBQ1AsTUFBTTBDLFdBQVc7WUFDakIsTUFBTUMsWUFBWUQsV0FBV3BIO1lBQzdCLE1BQU1zSCxVQUFVdkcsU0FBU2dDLE9BQU87WUFDaEMsTUFBTXdFLGFBQWF4RyxTQUFTZ0MsT0FBTyxHQUFHOUM7WUFFdEMsS0FBSyxNQUFNc0csUUFBUXJGLFNBQVM2QixPQUFPLENBQUU7Z0JBQ25DLElBQUksQ0FBQ3dELEtBQUtDLFNBQVMsRUFBRTtvQkFDbkIsTUFBTWtCLFdBQVduQixLQUFLVixDQUFDO29CQUN2QixNQUFNOEIsWUFBWXBCLEtBQUtWLENBQUMsR0FBR1UsS0FBS25ELEtBQUs7b0JBQ3JDLE1BQU13RSxVQUFVckIsS0FBS0ksQ0FBQztvQkFDdEIsTUFBTWtCLGFBQWF0QixLQUFLSSxDQUFDLEdBQUdKLEtBQUtsRCxNQUFNO29CQUV2QyxJQUFJZ0UsWUFBWUssWUFBWU4sV0FBV08sYUFBYUosYUFBYUssV0FBV04sVUFBVU8sWUFBWTt3QkFDaEd0QixLQUFLQyxTQUFTLEdBQUc7d0JBQ2pCM0YsZ0JBQWdCLENBQUNpSDs0QkFDZixNQUFNQyxXQUFXRCxZQUFZOzRCQUM3Qm5ILGFBQWEsQ0FBQ3FILGdCQUFrQjlCLEtBQUsrQixHQUFHLENBQUNELGVBQWVEOzRCQUN4RCxPQUFPQTt3QkFDVDtvQkFDRjtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxTQUFTbkQ7WUFDUCxLQUFLLE1BQU1nQixRQUFRM0UsU0FBUzhCLE9BQU8sQ0FBRTtnQkFDbkMsSUFBSSxDQUFDNkMsS0FBS3FCLE1BQU0sSUFBSXJCLEtBQUtDLENBQUMsR0FBRy9GLGFBQWEsS0FBSztvQkFDM0NlLGdCQUFnQixDQUFDaUg7d0JBQ2IsTUFBTUMsV0FBV0QsWUFBWTt3QkFDN0JuSCxhQUFhLENBQUNxSDs0QkFDWixNQUFNRSxtQkFBbUJoQyxLQUFLK0IsR0FBRyxDQUFDRCxlQUFlRDs0QkFFakQsSUFBSSxJQUE2QixFQUFFO2dDQUNqQ3BGLGFBQWF3RixPQUFPLENBQUMsYUFBYUQsaUJBQWlCRSxRQUFROzRCQUM3RDs0QkFDQSxPQUFPRjt3QkFDVDt3QkFDQSxPQUFPSDtvQkFDVDtvQkFDSm5DLEtBQUtxQixNQUFNLEdBQUc7Z0JBQ2hCO1lBQ0Y7UUFDRjtRQUVBLE9BQU87WUFDTG5ELE9BQU91RSxtQkFBbUIsQ0FBQyxXQUFXL0U7WUFDdENRLE9BQU91RSxtQkFBbUIsQ0FBQyxVQUFVckU7WUFDckMsSUFBSXZELGFBQWFzQyxPQUFPLEVBQUU7Z0JBQ3hCdUYscUJBQXFCN0gsYUFBYXNDLE9BQU87WUFDM0M7UUFDRjtJQUNGLEdBQUc7UUFBQ3pDO1FBQVdDO1FBQVVDO0tBQVU7SUFFbkMsT0FBTztRQUFFRTtRQUFXRTtJQUFhO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3B1YmxpYy91c2VGbGFwcHlCaXJkR2FtZS50cz81Yzc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuLy8gVHlwZXMgZm9yIGdhbWUgb2JqZWN0c1xyXG5pbnRlcmZhY2UgUGlwZSB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHRvcEhlaWdodDogbnVtYmVyO1xyXG4gIGJvdHRvbVk6IG51bWJlcjtcclxuICBib3R0b21IZWlnaHQ6IG51bWJlcjtcclxuICBzY29yZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb2luIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgY29sbGVjdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG4vLyBDb25zdGFudHNcclxuY29uc3QgR1JBVklUWSA9IDAuMjU7XHJcbmNvbnN0IEZMQVAgPSAtNy41O1xyXG5jb25zdCBQSVBFX1dJRFRIID0gOTA7XHJcbmNvbnN0IFBJUEVfU1BBQ0lORyA9IDI1MDtcclxuY29uc3QgQklSRF9XSURUSCA9IDUwO1xyXG5jb25zdCBCSVJEX0hFSUdIVCA9IDUwO1xyXG5jb25zdCBDT0lOX1NJWkUgPSAxMDA7XHJcbmNvbnN0IFJPVEFUSU9OX1NQRUVEID0gMC4wMDU7XHJcblxyXG4vLyBIb3cgb2Z0ZW4gdG8gc3Bhd24gcGlwZXMgaW4gdGVybXMgb2YgZnJhbWVzXHJcbi8vIH4xMDAgZnJhbWVzIGF0IH42MGZwcyBpcyB+MS42NiBzZWNvbmRzLiBBZGp1c3QgYXMgbmVlZGVkXHJcbmNvbnN0IFBJUEVfU1BBV05fRlJBTUVTID0gMTAwO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUZsYXBweUJpcmRHYW1lKGNhbnZhc1JlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxDYW52YXNFbGVtZW50PiwgaXNQYXVzZWQ6IGJvb2xlYW4sIGF1dG9TdGFydDogYm9vbGVhbikge1xyXG4gICAgY29uc3QgcmVxdWVzdElkUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xyXG4gIFxyXG4gIC8vIFN0YXRlIHJlZnNcclxuICBjb25zdCBbaGlnaFNjb3JlLCBzZXRIaWdoU2NvcmVdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW2N1cnJlbnRTY29yZSwgc2V0Q3VycmVudFNjb3JlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICBjb25zdCBjdXJyZW50QmlyZEZyYW1lUmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcbiAgY29uc3QgYmlyZFlSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuICBjb25zdCBiaXJkVmVsb2NpdHlSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuICBjb25zdCBwaXBlc1JlZiA9IHVzZVJlZjxQaXBlW10+KFtdKTtcclxuICBjb25zdCBjb2luc1JlZiA9IHVzZVJlZjxDb2luW10+KFtdKTtcclxuICBjb25zdCBnYW1lT3ZlclJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgZ2FtZVN0YXJ0ZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuICBjb25zdCBjb2luUm90YXRpb25TdGVwUmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcbiAgY29uc3QgZnJhbWVzUmVmID0gdXNlUmVmPG51bWJlcj4oMCk7IC8vIENvdW50IGZyYW1lc1xyXG5cclxuLy8gQXNzZXRzXHJcbmxldCBiaXJkSW1hZ2VzOiBIVE1MSW1hZ2VFbGVtZW50W10gPSBbXTtcclxubGV0IHBpcGVUb3A6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbmxldCBwaXBlQm90dG9tOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG5sZXQgYmFja2dyb3VuZDogSFRNTEltYWdlRWxlbWVudDtcclxubGV0IGNvaW5JbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgY29uc3QgYmlyZFVwID0gbmV3IEltYWdlKCk7XHJcbiAgYmlyZFVwLnNyYyA9IFwiL2Fzc2V0cy9yZWRiaXJkLXVwZmxhcC5wbmdcIjtcclxuXHJcbiAgY29uc3QgYmlyZE1pZCA9IG5ldyBJbWFnZSgpO1xyXG4gIGJpcmRNaWQuc3JjID0gXCIvYXNzZXRzL3JlZGJpcmQtbWlkZmxhcC5wbmdcIjtcclxuXHJcbiAgY29uc3QgYmlyZERvd24gPSBuZXcgSW1hZ2UoKTtcclxuICBiaXJkRG93bi5zcmMgPSBcIi9hc3NldHMvcmVkYmlyZC1kb3duZmxhcC5wbmdcIjtcclxuXHJcbiAgYmlyZEltYWdlcyA9IFtiaXJkVXAsIGJpcmRNaWQsIGJpcmREb3duXTtcclxuXHJcbiAgcGlwZVRvcCA9IG5ldyBJbWFnZSgpO1xyXG4gIHBpcGVUb3Auc3JjID0gXCIvYXNzZXRzL1RvcFRpbnkucG5nXCI7XHJcblxyXG4gIHBpcGVCb3R0b20gPSBuZXcgSW1hZ2UoKTtcclxuICBwaXBlQm90dG9tLnNyYyA9IFwiL2Fzc2V0cy9Cb3R0b21UaW55LnBuZ1wiO1xyXG5cclxuICBiYWNrZ3JvdW5kID0gbmV3IEltYWdlKCk7XHJcbiAgYmFja2dyb3VuZC5zcmMgPSBcIi9hc3NldHMvYmFja2dyb3VuZC1kYXkucG5nXCI7XHJcblxyXG4gIGNvaW5JbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gIGNvaW5JbWFnZS5zcmMgPSBcIi9hc3NldHMvQ29pblRpbnkucG5nXCI7XHJcbn1cclxuXHJcbmNvbnN0IGxvYWRJbWFnZSA9IChpbWc6IEhUTUxJbWFnZUVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgaWYgKGltZy5jb21wbGV0ZSkge1xyXG4gICAgICByZXNvbHZlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xyXG4gICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGltYWdlOiAke2ltZy5zcmN9YCkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG4gIFxyXG4gIC8vIExvYWQgaGlnaCBzY29yZSBmcm9tIGxvY2FsU3RvcmFnZSBhZnRlciBtb3VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBjb25zdCBzdG9yZWRIaWdoU2NvcmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImhpZ2hTY29yZVwiKTtcclxuICAgICAgaWYgKHN0b3JlZEhpZ2hTY29yZSkge1xyXG4gICAgICAgIHNldEhpZ2hTY29yZShwYXJzZUludChzdG9yZWRIaWdoU2NvcmUsIDEwKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSByZXR1cm47XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRHYW1lKCkge1xyXG4gICAgICBjb25zdCBjID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGlmICghYykgcmV0dXJuO1xyXG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGM7XHJcblxyXG4gICAgICBiaXJkWVJlZi5jdXJyZW50ID0gaGVpZ2h0IC8gMztcclxuICAgICAgYmlyZFZlbG9jaXR5UmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgICBwaXBlc1JlZi5jdXJyZW50ID0gW107XHJcbiAgICAgIGNvaW5zUmVmLmN1cnJlbnQgPSBbXTtcclxuICAgICAgc2V0Q3VycmVudFNjb3JlKDApO1xyXG4gICAgICBnYW1lT3ZlclJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGdhbWVTdGFydGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgY29pblJvdGF0aW9uU3RlcFJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgZnJhbWVzUmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZTogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiIFwiKSB7XHJcbiAgICAgICAgaWYgKCFnYW1lU3RhcnRlZFJlZi5jdXJyZW50ICYmICFnYW1lT3ZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBzdGFydEdhbWUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGdhbWVPdmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIHN0YXJ0R2FtZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBiaXJkVmVsb2NpdHlSZWYuY3VycmVudCA9IEZMQVA7XHJcbiAgICAgICAgICBmbGFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYmFja2dyb3VuZC5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCYWNrZ3JvdW5kIGltYWdlIGxvYWRlZCFcIik7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgaWYgKGNhbnZhcykge1xyXG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICAgIGlmIChjdHgpIGluaXRpYWxpemVHYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXNpemUoKSB7XHJcbiAgICAgIGNvbnN0IGMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgICAgaWYgKCFjKSByZXR1cm47XHJcbiAgICAgIGMud2lkdGggPSAzNjA7XHJcbiAgICAgIGMuaGVpZ2h0ID0gNjQwO1xyXG5cclxuICAgICAgaWYgKCFnYW1lU3RhcnRlZFJlZi5jdXJyZW50ICYmICFnYW1lT3ZlclJlZi5jdXJyZW50ICYmIGN0eCkge1xyXG4gICAgICAgIGRyYXdTdGFydFNjcmVlbihjdHgsIGMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgdGhlIGdhbWVcclxuICAgIGNvbnN0IGluaXRpYWxpemVHYW1lID0gKCkgPT4ge1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM2MDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNjQwO1xyXG4gICAgICAgIGRyYXdTdGFydFNjcmVlbihjdHgsIGNhbnZhcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGluaXRpYWxpemVHYW1lKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gICAgICByZXNldEdhbWUoKTtcclxuICAgICAgZ2FtZVN0YXJ0ZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIGFuaW1hdGUoKTsgLy8gU3RhcnQgdGhlIGxvb3BcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xyXG4gICAgICBpZiAoaXNQYXVzZWQgfHwgIWdhbWVTdGFydGVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAvLyBJZiBwYXVzZWQgb3Igbm90IHN0YXJ0ZWQsIGp1c3QgcmVxdWVzdCBuZXh0IGZyYW1lIHdpdGhvdXQgdXBkYXRpbmcgc3RhdGVcclxuICAgICAgICByZXF1ZXN0SWRSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgICAgaWYgKCFjKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgaWYgKCFjb250ZXh0KSByZXR1cm47XHJcblxyXG4gICAgICB1cGRhdGVHYW1lU3RhdGUoYyk7XHJcbiAgICAgIGRyYXcoY29udGV4dCwgYyk7XHJcblxyXG4gICAgICBpZiAoIWdhbWVPdmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICByZXF1ZXN0SWRSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkcmF3R2FtZU92ZXJTY3JlZW4oY29udGV4dCwgYyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVHYW1lU3RhdGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICBmcmFtZXNSZWYuY3VycmVudCsrO1xyXG5cclxuICAgICAgLy8gR3Jhdml0eVxyXG4gICAgICBiaXJkVmVsb2NpdHlSZWYuY3VycmVudCArPSBHUkFWSVRZO1xyXG4gICAgICBiaXJkWVJlZi5jdXJyZW50ICs9IGJpcmRWZWxvY2l0eVJlZi5jdXJyZW50O1xyXG5cclxuICAgICAgLy8gU3Bhd24gcGlwZXMgZXZlcnkgUElQRV9TUEFXTl9GUkFNRVMgZnJhbWVzXHJcbiAgICAgIGlmIChmcmFtZXNSZWYuY3VycmVudCAlIFBJUEVfU1BBV05fRlJBTUVTID09PSAwKSB7XHJcbiAgICAgICAgY3JlYXRlUGlwZShjYW52YXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtb3ZlUGlwZXNBbmRDb2lucygpO1xyXG4gICAgICBjaGVja0NvaW5Db2xsZWN0aW9uKCk7XHJcblxyXG4gICAgICAvLyBDaGVjayBjb2xsaXNpb25zIGFmdGVyIG1vdmVtZW50XHJcbiAgICAgIGlmIChjaGVja0NvbGxpc2lvbnMoY2FudmFzKSkge1xyXG4gICAgICAgIGdhbWVPdmVyUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdXBkYXRlU2NvcmUoKTtcclxuXHJcbiAgICAgIC8vIFJvdGF0ZSBjb2luIGEgYml0IGVhY2ggZnJhbWVcclxuICAgICAgY29pblJvdGF0aW9uU3RlcFJlZi5jdXJyZW50ICs9IFJPVEFUSU9OX1NQRUVEO1xyXG4gICAgICBpZiAoY29pblJvdGF0aW9uU3RlcFJlZi5jdXJyZW50ID49IDEpIGNvaW5Sb3RhdGlvblN0ZXBSZWYuY3VycmVudCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGRyYXdCYWNrZ3JvdW5kKGN0eCwgY2FudmFzKTtcclxuICAgICAgZHJhd0JpcmQoY3R4KTtcclxuICAgICAgZHJhd1BpcGVzKGN0eCk7XHJcbiAgICAgIGRyYXdDb2lucyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZHJhd1N0YXJ0U2NyZWVuKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgZHJhd0JhY2tncm91bmQoY3R4LCBjYW52YXMpO1xyXG4gICAgICBjdHguZm9udCA9IFwiYm9sZCAzMHB4IEFyaWFsXCI7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnO1xyXG4gICAgICBjdHguc2hhZG93Q29sb3IgPSAnYmxhY2snO1xyXG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcIlByZXNzIFNwYWNlIHRvIFN0YXJ0XCIsIGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmF3R2FtZU92ZXJTY3JlZW4oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZjYzAwJztcclxuICAgICAgY3R4LmZvbnQgPSAnYm9sZCA1MHB4IEFyaWFsJztcclxuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgIGN0eC5zaGFkb3dDb2xvciA9ICdibGFjayc7XHJcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gMTA7XHJcblxyXG4gICAgICBjdHguZmlsbFRleHQoJ0dhbWUgT3ZlciEnLCBjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMiAtIDQwKTtcclxuXHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XHJcbiAgICAgIGN0eC5mb250ID0gJ2JvbGQgMzBweCBBcmlhbCc7XHJcbiAgICAgIGN0eC5maWxsVGV4dCgnUHJlc3MgU3BhY2UgdG8gUmVzdGFydCcsIGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyICsgMjApO1xyXG5cclxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZjAwJztcclxuICAgICAgY3R4LmZvbnQgPSAnMzBweCBBcmlhbCc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhd0JhY2tncm91bmQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgY3R4LmRyYXdJbWFnZShiYWNrZ3JvdW5kLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXdCaXJkKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRJbWFnZSA9IGJpcmRJbWFnZXNbY3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50XTtcclxuICAgICAgaWYgKGN1cnJlbnRJbWFnZS5jb21wbGV0ZSkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoY3VycmVudEltYWdlLCAxMDAsIGJpcmRZUmVmLmN1cnJlbnQsIEJJUkRfV0lEVEgsIEJJUkRfSEVJR0hUKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPcHRpb25hbGx5LCBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIGltYWdlIGhhc24ndCBsb2FkZWQgeWV0XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBCaXJkIGltYWdlIGF0IGluZGV4ICR7Y3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50fSBub3QgbG9hZGVkIHlldC5gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXdQaXBlcyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICBmb3IgKGNvbnN0IHBpcGUgb2YgcGlwZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UocGlwZVRvcCwgcGlwZS54LCAwLCBQSVBFX1dJRFRILCBwaXBlLnRvcEhlaWdodCk7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShwaXBlQm90dG9tLCBwaXBlLngsIHBpcGUuYm90dG9tWSwgUElQRV9XSURUSCwgcGlwZS5ib3R0b21IZWlnaHQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhd0NvaW5zKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgIGNvbnN0IHNjYWxlWCA9IE1hdGguYWJzKE1hdGguY29zKGNvaW5Sb3RhdGlvblN0ZXBSZWYuY3VycmVudCAqIE1hdGguUEkgKiAyKSk7XHJcbiAgICAgIGNvbnN0IGhhbGZTaXplID0gQ09JTl9TSVpFIC8gMjtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgY29pbiBvZiBjb2luc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgaWYgKCFjb2luLmNvbGxlY3RlZCkge1xyXG4gICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgIGN0eC50cmFuc2xhdGUoY29pbi54ICsgaGFsZlNpemUsIGNvaW4ueSArIGhhbGZTaXplKTtcclxuICAgICAgICAgIGN0eC5zY2FsZShzY2FsZVgsIDEpO1xyXG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShjb2luSW1hZ2UsIC1oYWxmU2l6ZSwgLWhhbGZTaXplLCBDT0lOX1NJWkUsIENPSU5fU0laRSk7XHJcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBpcGUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICBjb25zdCBwaXBlSGVpZ2h0ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXMuaGVpZ2h0IC0gUElQRV9TUEFDSU5HIC0gMTAwKSArIDUwO1xyXG4gICAgICBjb25zdCBib3R0b21ZID0gcGlwZUhlaWdodCArIFBJUEVfU1BBQ0lORztcclxuICAgICAgcGlwZXNSZWYuY3VycmVudC5wdXNoKHtcclxuICAgICAgICB4OiBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgdG9wSGVpZ2h0OiBwaXBlSGVpZ2h0LFxyXG4gICAgICAgIGJvdHRvbVksXHJcbiAgICAgICAgYm90dG9tSGVpZ2h0OiBjYW52YXMuaGVpZ2h0IC0gYm90dG9tWSxcclxuICAgICAgICBzY29yZWQ6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gNTAlIGNoYW5jZSB0byBzcGF3biBhIGNvaW5cclxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcclxuICAgICAgICBjb2luc1JlZi5jdXJyZW50LnB1c2goe1xyXG4gICAgICAgICAgeDogY2FudmFzLndpZHRoICsgUElQRV9XSURUSCAvIDIgLSBDT0lOX1NJWkUgLyAyLFxyXG4gICAgICAgICAgeTogcGlwZUhlaWdodCArIFBJUEVfU1BBQ0lORyAvIDIgLSBDT0lOX1NJWkUgLyAyLFxyXG4gICAgICAgICAgd2lkdGg6IENPSU5fU0laRSxcclxuICAgICAgICAgIGhlaWdodDogQ09JTl9TSVpFLFxyXG4gICAgICAgICAgY29sbGVjdGVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW92ZVBpcGVzQW5kQ29pbnMoKSB7XHJcbiAgICAgIGZvciAoY29uc3QgcGlwZSBvZiBwaXBlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgcGlwZS54IC09IDI7XHJcbiAgICAgIH1cclxuICAgICAgcGlwZXNSZWYuY3VycmVudCA9IHBpcGVzUmVmLmN1cnJlbnQuZmlsdGVyKHBpcGUgPT4gcGlwZS54ICsgUElQRV9XSURUSCA+IDApO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBjb2luIG9mIGNvaW5zUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb2luLnggLT0gMjtcclxuICAgICAgfVxyXG4gICAgICBjb2luc1JlZi5jdXJyZW50ID0gY29pbnNSZWYuY3VycmVudC5maWx0ZXIoY29pbiA9PiBjb2luLnggKyBjb2luLndpZHRoID4gMCAmJiAhY29pbi5jb2xsZWN0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZsYXAgPSAoKSA9PiB7XHJcbiAgICAgIGN1cnJlbnRCaXJkRnJhbWVSZWYuY3VycmVudCA9IDE7IFxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAyO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50ID0gMDsgXHJcbiAgICAgICAgfSwgMTAwKTsgXHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrQ29sbGlzaW9ucyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICAgIGlmIChiaXJkWVJlZi5jdXJyZW50IDwgMCB8fCBiaXJkWVJlZi5jdXJyZW50ICsgQklSRF9IRUlHSFQgPiBjYW52YXMuaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGJpcmRMZWZ0ID0gMTAwO1xyXG4gICAgICBjb25zdCBiaXJkUmlnaHQgPSBiaXJkTGVmdCArIEJJUkRfV0lEVEg7XHJcbiAgICAgIGNvbnN0IGJpcmRUb3AgPSBiaXJkWVJlZi5jdXJyZW50O1xyXG4gICAgICBjb25zdCBiaXJkQm90dG9tID0gYmlyZFlSZWYuY3VycmVudCArIEJJUkRfSEVJR0hUO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBwaXBlIG9mIHBpcGVzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCB3aXRoaW5QaXBlWCA9IGJpcmRSaWdodCA+IHBpcGUueCAmJiBiaXJkTGVmdCA8IHBpcGUueCArIFBJUEVfV0lEVEg7XHJcbiAgICAgICAgY29uc3Qgd2l0aGluUGlwZVkgPSBiaXJkVG9wIDwgcGlwZS50b3BIZWlnaHQgfHwgYmlyZEJvdHRvbSA+IHBpcGUuYm90dG9tWTtcclxuICAgICAgICBpZiAod2l0aGluUGlwZVggJiYgd2l0aGluUGlwZVkpIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tDb2luQ29sbGVjdGlvbigpIHtcclxuICAgICAgY29uc3QgYmlyZExlZnQgPSAxMDA7XHJcbiAgICAgIGNvbnN0IGJpcmRSaWdodCA9IGJpcmRMZWZ0ICsgQklSRF9XSURUSDtcclxuICAgICAgY29uc3QgYmlyZFRvcCA9IGJpcmRZUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNvbnN0IGJpcmRCb3R0b20gPSBiaXJkWVJlZi5jdXJyZW50ICsgQklSRF9IRUlHSFQ7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGNvaW4gb2YgY29pbnNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGlmICghY29pbi5jb2xsZWN0ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IGNvaW5MZWZ0ID0gY29pbi54O1xyXG4gICAgICAgICAgY29uc3QgY29pblJpZ2h0ID0gY29pbi54ICsgY29pbi53aWR0aDtcclxuICAgICAgICAgIGNvbnN0IGNvaW5Ub3AgPSBjb2luLnk7XHJcbiAgICAgICAgICBjb25zdCBjb2luQm90dG9tID0gY29pbi55ICsgY29pbi5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgaWYgKGJpcmRSaWdodCA+IGNvaW5MZWZ0ICYmIGJpcmRMZWZ0IDwgY29pblJpZ2h0ICYmIGJpcmRCb3R0b20gPiBjb2luVG9wICYmIGJpcmRUb3AgPCBjb2luQm90dG9tKSB7XHJcbiAgICAgICAgICAgIGNvaW4uY29sbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2V0Q3VycmVudFNjb3JlKChwcmV2U2NvcmUpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBuZXdTY29yZSA9IHByZXZTY29yZSArIDU7ICAgICAgXHJcbiAgICAgICAgICAgICAgc2V0SGlnaFNjb3JlKChwcmV2SGlnaFNjb3JlKSA9PiBNYXRoLm1heChwcmV2SGlnaFNjb3JlLCBuZXdTY29yZSkpOyAgICAgICBcclxuICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcmU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNjb3JlKCkge1xyXG4gICAgICBmb3IgKGNvbnN0IHBpcGUgb2YgcGlwZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGlmICghcGlwZS5zY29yZWQgJiYgcGlwZS54ICsgUElQRV9XSURUSCA8IDEwMCkge1xyXG4gICAgICAgICAgICBzZXRDdXJyZW50U2NvcmUoKHByZXZTY29yZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2NvcmUgPSBwcmV2U2NvcmUgKyAxO1xyXG4gICAgICAgICAgICAgICAgc2V0SGlnaFNjb3JlKChwcmV2SGlnaFNjb3JlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRIaWdoU2NvcmUgPSBNYXRoLm1heChwcmV2SGlnaFNjb3JlLCBuZXdTY29yZSk7XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaGlnaFNjb3JlXCIsIHVwZGF0ZWRIaWdoU2NvcmUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRIaWdoU2NvcmU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29yZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIHBpcGUuc2NvcmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgIGlmIChyZXF1ZXN0SWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RJZFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbY2FudmFzUmVmLCBpc1BhdXNlZCwgYXV0b1N0YXJ0XSk7XHJcblxyXG4gIHJldHVybiB7IGhpZ2hTY29yZSwgY3VycmVudFNjb3JlIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiR1JBVklUWSIsIkZMQVAiLCJQSVBFX1dJRFRIIiwiUElQRV9TUEFDSU5HIiwiQklSRF9XSURUSCIsIkJJUkRfSEVJR0hUIiwiQ09JTl9TSVpFIiwiUk9UQVRJT05fU1BFRUQiLCJQSVBFX1NQQVdOX0ZSQU1FUyIsInVzZUZsYXBweUJpcmRHYW1lIiwiY2FudmFzUmVmIiwiaXNQYXVzZWQiLCJhdXRvU3RhcnQiLCJyZXF1ZXN0SWRSZWYiLCJoaWdoU2NvcmUiLCJzZXRIaWdoU2NvcmUiLCJjdXJyZW50U2NvcmUiLCJzZXRDdXJyZW50U2NvcmUiLCJjdXJyZW50QmlyZEZyYW1lUmVmIiwiYmlyZFlSZWYiLCJiaXJkVmVsb2NpdHlSZWYiLCJwaXBlc1JlZiIsImNvaW5zUmVmIiwiZ2FtZU92ZXJSZWYiLCJnYW1lU3RhcnRlZFJlZiIsImNvaW5Sb3RhdGlvblN0ZXBSZWYiLCJmcmFtZXNSZWYiLCJiaXJkSW1hZ2VzIiwicGlwZVRvcCIsInBpcGVCb3R0b20iLCJiYWNrZ3JvdW5kIiwiY29pbkltYWdlIiwiYmlyZFVwIiwiSW1hZ2UiLCJzcmMiLCJiaXJkTWlkIiwiYmlyZERvd24iLCJsb2FkSW1hZ2UiLCJpbWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvbXBsZXRlIiwib25sb2FkIiwib25lcnJvciIsIkVycm9yIiwic3RvcmVkSGlnaFNjb3JlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlSW50IiwiY2FudmFzIiwiY3VycmVudCIsImN0eCIsImdldENvbnRleHQiLCJyZXNldEdhbWUiLCJjIiwid2lkdGgiLCJoZWlnaHQiLCJoYW5kbGVLZXlEb3duIiwiZSIsImtleSIsInN0YXJ0R2FtZSIsImZsYXAiLCJjb25zb2xlIiwibG9nIiwiaW5pdGlhbGl6ZUdhbWUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUmVzaXplIiwiZHJhd1N0YXJ0U2NyZWVuIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNvbnRleHQiLCJ1cGRhdGVHYW1lU3RhdGUiLCJkcmF3IiwiZHJhd0dhbWVPdmVyU2NyZWVuIiwiY3JlYXRlUGlwZSIsIm1vdmVQaXBlc0FuZENvaW5zIiwiY2hlY2tDb2luQ29sbGVjdGlvbiIsImNoZWNrQ29sbGlzaW9ucyIsInVwZGF0ZVNjb3JlIiwiY2xlYXJSZWN0IiwiZHJhd0JhY2tncm91bmQiLCJkcmF3QmlyZCIsImRyYXdQaXBlcyIsImRyYXdDb2lucyIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsU3R5bGUiLCJzaGFkb3dDb2xvciIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0Iiwic2hhZG93Qmx1ciIsImRyYXdJbWFnZSIsImN1cnJlbnRJbWFnZSIsIndhcm4iLCJwaXBlIiwieCIsInRvcEhlaWdodCIsImJvdHRvbVkiLCJib3R0b21IZWlnaHQiLCJzY2FsZVgiLCJNYXRoIiwiYWJzIiwiY29zIiwiUEkiLCJoYWxmU2l6ZSIsImNvaW4iLCJjb2xsZWN0ZWQiLCJzYXZlIiwidHJhbnNsYXRlIiwieSIsInNjYWxlIiwicmVzdG9yZSIsInBpcGVIZWlnaHQiLCJyYW5kb20iLCJwdXNoIiwic2NvcmVkIiwiZmlsdGVyIiwic2V0VGltZW91dCIsImJpcmRMZWZ0IiwiYmlyZFJpZ2h0IiwiYmlyZFRvcCIsImJpcmRCb3R0b20iLCJ3aXRoaW5QaXBlWCIsIndpdGhpblBpcGVZIiwiY29pbkxlZnQiLCJjb2luUmlnaHQiLCJjb2luVG9wIiwiY29pbkJvdHRvbSIsInByZXZTY29yZSIsIm5ld1Njb3JlIiwicHJldkhpZ2hTY29yZSIsIm1heCIsInVwZGF0ZWRIaWdoU2NvcmUiLCJzZXRJdGVtIiwidG9TdHJpbmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/useFlappyBirdGame.ts\n"));

/***/ })

});