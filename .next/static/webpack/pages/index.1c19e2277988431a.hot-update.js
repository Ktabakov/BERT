"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./public/useFlappyBirdGame.ts":
/*!*************************************!*\
  !*** ./public/useFlappyBirdGame.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFlappyBirdGame: function() { return /* binding */ useFlappyBirdGame; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/** Constants / configuration */ const CANVAS_WIDTH = 360;\nconst CANVAS_HEIGHT = 640;\nconst BIRD_X = 80; // Bird's fixed X position\nconst BIRD_SIZE = 50; // Bird width/height\nconst GRAVITY = 0.25; // Bird falls each frame\nconst FLAP = -7.5; // Bird jump velocity\nconst PIPE_GAP = 160; // Vertical gap\nconst PIPE_WIDTH = 90; // Pipe width\nconst PIPE_SPEED = 2; // Movement speed\nconst PIPE_SPAWN_INTERVAL = 100; // frames: ~1.66s @60fps\n/** \r\n * Assets you have: redbird-upflap.png, midflap, downflap, \r\n * background-day.png, TopTiny.png, BottomTiny.png, CoinTiny.png\r\n * We'll keep the coin logic optional if you want, but let's simplify for now.\r\n */ function useFlappyBirdGame(canvasRef, isPaused, autoStart) {\n    const requestIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Stateful scores\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [currentScore, setCurrentScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Bird position + velocity\n    const birdYRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const birdVelocityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Pipe array\n    const pipesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    // Track frames so we know when to spawn\n    const frameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // References for game over + started\n    const gameOverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const gameStartedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Bird images\n    const birdImages = [];\n    let backgroundImg;\n    let pipeTopImg;\n    let pipeBotImg;\n    if (true) {\n        // Bird frames (optional: up-mid-down)\n        const birdUp = new Image();\n        birdUp.src = \"/assets/redbird-upflap.png\";\n        const birdMid = new Image();\n        birdMid.src = \"/assets/redbird-midflap.png\";\n        const birdDown = new Image();\n        birdDown.src = \"/assets/redbird-downflap.png\";\n        birdImages.push(birdUp, birdMid, birdDown);\n        backgroundImg = new Image();\n        backgroundImg.src = \"/assets/background-day.png\";\n        pipeTopImg = new Image();\n        pipeTopImg.src = \"/assets/TopTiny.png\";\n        pipeBotImg = new Image();\n        pipeBotImg.src = \"/assets/BottomTiny.png\";\n    }\n    // Current bird frame index (0=up,1=mid,2=down)\n    const currentBirdFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(1);\n    // On mount, load high score\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const saved = localStorage.getItem(\"highScore\");\n        if (saved) setHighScore(parseInt(saved, 10));\n    }, []);\n    // The main effect that sets up + runs the game\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Initialize canvas size\n        canvas.width = CANVAS_WIDTH;\n        canvas.height = CANVAS_HEIGHT;\n        // 1) Reset function\n        function resetGame() {\n            birdYRef.current = CANVAS_HEIGHT / 3;\n            birdVelocityRef.current = 0;\n            pipesRef.current = [];\n            setCurrentScore(0);\n            gameOverRef.current = false;\n            gameStartedRef.current = false;\n            frameRef.current = 0;\n            currentBirdFrameRef.current = 1; // mid flap\n        }\n        // 2) Start the game\n        function startGame() {\n            resetGame();\n            gameStartedRef.current = true;\n            requestIdRef.current = requestAnimationFrame(loop);\n        }\n        // 3) KeyDown: space => flap or restart\n        function handleKeyDown(e) {\n            if (e.key === \" \") {\n                if (!gameStartedRef.current && !gameOverRef.current) {\n                    startGame();\n                } else if (gameOverRef.current) {\n                    // restart\n                    startGame();\n                } else {\n                    // flap\n                    birdVelocityRef.current = FLAP;\n                    flapAnimation();\n                }\n            }\n        }\n        window.addEventListener(\"keydown\", handleKeyDown);\n        // 4) Adjust on resize if you want\n        function handleResize() {\n            if (!canvas) return;\n            if (!ctx) return;\n            canvas.width = CANVAS_WIDTH;\n            canvas.height = CANVAS_HEIGHT;\n            if (!gameStartedRef.current && !gameOverRef.current) {\n                drawStartScreen(ctx);\n            }\n        }\n        window.addEventListener(\"resize\", handleResize);\n        // 5) Initialization\n        drawStartScreen(ctx);\n        // 6) The loop\n        function loop(timestamp) {\n            if (!ctx) return;\n            if (isPaused || !gameStartedRef.current) {\n                // If paused, just schedule the next frame\n                requestIdRef.current = requestAnimationFrame(loop);\n                return;\n            }\n            update();\n            draw(ctx);\n            if (!gameOverRef.current) {\n                requestIdRef.current = requestAnimationFrame(loop);\n            } else {\n                drawGameOverScreen(ctx);\n            }\n        }\n        // 7) Update logic\n        function update() {\n            frameRef.current++;\n            // Bird gravity\n            birdVelocityRef.current += GRAVITY;\n            birdYRef.current += birdVelocityRef.current;\n            // Spawn pipes every PIPE_SPAWN_INTERVAL frames\n            if (frameRef.current % PIPE_SPAWN_INTERVAL === 0) {\n                spawnPipe();\n            }\n            // Move pipes\n            for (const pipe of pipesRef.current){\n                pipe.x -= PIPE_SPEED;\n            }\n            // Remove offscreen\n            pipesRef.current = pipesRef.current.filter((p)=>p.x + PIPE_WIDTH > 0);\n            // Collision check\n            if (checkCollision()) {\n                gameOverRef.current = true;\n            }\n            // Scoring\n            for (const pipe of pipesRef.current){\n                if (!pipe.scored && pipe.x + PIPE_WIDTH < BIRD_X) {\n                    // +1 score\n                    setCurrentScore((prev)=>{\n                        const newScore = prev + 1;\n                        setHighScore((prevHigh)=>{\n                            const best = Math.max(prevHigh, newScore);\n                            localStorage.setItem(\"highScore\", best.toString());\n                            return best;\n                        });\n                        return newScore;\n                    });\n                    pipe.scored = true;\n                }\n            }\n        }\n        // 8) Draw\n        function draw(ctx) {\n            ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            // draw background\n            if (backgroundImg.complete) {\n                ctx.drawImage(backgroundImg, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            }\n            // draw pipes\n            for (const pipe of pipesRef.current){\n                const gapY = pipe.gapY;\n                const topHeight = gapY;\n                const bottomY = gapY + PIPE_GAP;\n                // top\n                ctx.drawImage(pipeTopImg, pipe.x, topHeight - pipeTopImg.height, PIPE_WIDTH, pipeTopImg.height);\n                // bottom\n                ctx.drawImage(pipeBotImg, pipe.x, bottomY, PIPE_WIDTH, pipeBotImg.height);\n            }\n            // draw bird\n            const currentBird = birdImages[currentBirdFrameRef.current] || birdImages[1];\n            if (currentBird.complete) {\n                ctx.drawImage(currentBird, BIRD_X, birdYRef.current, BIRD_SIZE, BIRD_SIZE);\n            }\n        }\n        // 9) Start screen\n        function drawStartScreen(ctx) {\n            ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            // background\n            if (backgroundImg.complete) {\n                ctx.drawImage(backgroundImg, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            }\n            ctx.fillStyle = \"white\";\n            ctx.font = \"bold 24px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Press Space or Tap\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n        }\n        // 10) Game Over screen\n        function drawGameOverScreen(ctx) {\n            ctx.fillStyle = \"#ff3333\";\n            ctx.font = \"bold 36px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Game Over!\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 - 40);\n            ctx.fillStyle = \"white\";\n            ctx.font = \"bold 20px Arial\";\n            ctx.fillText(\"Press Space or Tap to Restart\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n        }\n        // 11) Spawn pipe\n        function spawnPipe() {\n            const gapY = Math.random() * (CANVAS_HEIGHT - PIPE_GAP - 100) + 50;\n            pipesRef.current.push({\n                x: CANVAS_WIDTH,\n                gapY,\n                scored: false\n            });\n        }\n        // 12) Collision check\n        function checkCollision() {\n            // bird outside canvas?\n            if (birdYRef.current < 0 || birdYRef.current + BIRD_SIZE > CANVAS_HEIGHT) {\n                return true;\n            }\n            // pipe collision\n            for (const pipe of pipesRef.current){\n                const topPipeBottom = pipe.gapY;\n                const bottomPipeTop = pipe.gapY + PIPE_GAP;\n                const birdRight = BIRD_X + BIRD_SIZE;\n                const pipeRight = pipe.x + PIPE_WIDTH;\n                // If horizontally overlapping\n                if (birdRight > pipe.x && BIRD_X < pipeRight) {\n                    // if bird is above gap or below gap\n                    if (birdYRef.current < topPipeBottom || birdYRef.current + BIRD_SIZE > bottomPipeTop) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        // 13) Bird flap animation\n        function flapAnimation() {\n            // Quick 3-frame cycle\n            currentBirdFrameRef.current = 0; // up\n            setTimeout(()=>{\n                currentBirdFrameRef.current = 1; // mid\n                setTimeout(()=>{\n                    currentBirdFrameRef.current = 2; // down\n                    setTimeout(()=>{\n                        currentBirdFrameRef.current = 1; // mid\n                    }, 150);\n                }, 150);\n            }, 150);\n        }\n        // 14) Cleanup\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"resize\", handleResize);\n            if (requestIdRef.current) cancelAnimationFrame(requestIdRef.current);\n        };\n    }, [\n        canvasRef,\n        isPaused,\n        autoStart\n    ]);\n    // We'll return a stable function for mobile clicks\n    const handleUserInput = ()=>{\n        // We'll dispatch a \"keydown\" event with key: \" \"\n        const spaceEvent = new KeyboardEvent(\"keydown\", {\n            key: \" \"\n        });\n        window.dispatchEvent(spaceEvent);\n    };\n    return {\n        highScore,\n        currentScore,\n        handleUserInput\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDNUMsb0NBQW9DO29CQUNwQyxJQUNFekUsU0FBU3NCLE9BQU8sR0FBR2dELGlCQUNuQnRFLFNBQVNzQixPQUFPLEdBQUd0QyxZQUFZdUYsZUFDL0I7d0JBQ0EsT0FBTztvQkFDVDtnQkFDRjtZQUNGO1lBQ0EsT0FBTztRQUNUO1FBRUEsMEJBQTBCO1FBQzFCLFNBQVNyQztZQUNQLHNCQUFzQjtZQUN0QmxCLG9CQUFvQk0sT0FBTyxHQUFHLEdBQUcsS0FBSztZQUN0Q29ELFdBQVc7Z0JBQ1QxRCxvQkFBb0JNLE9BQU8sR0FBRyxHQUFHLE1BQU07Z0JBQ3ZDb0QsV0FBVztvQkFDVDFELG9CQUFvQk0sT0FBTyxHQUFHLEdBQUcsT0FBTztvQkFDeENvRCxXQUFXO3dCQUNUMUQsb0JBQW9CTSxPQUFPLEdBQUcsR0FBRyxNQUFNO29CQUN6QyxHQUFHO2dCQUNMLEdBQUc7WUFDTCxHQUFHO1FBQ0w7UUFFQSxjQUFjO1FBQ2QsT0FBTztZQUNMYSxPQUFPd0MsbUJBQW1CLENBQUMsV0FBVzVDO1lBQ3RDSSxPQUFPd0MsbUJBQW1CLENBQUMsVUFBVXRDO1lBQ3JDLElBQUkxQyxhQUFhMkIsT0FBTyxFQUFFc0QscUJBQXFCakYsYUFBYTJCLE9BQU87UUFDckU7SUFDRixHQUFHO1FBQUM5QjtRQUFXQztRQUFVQztLQUFVO0lBRW5DLG1EQUFtRDtJQUNuRCxNQUFNbUYsa0JBQWtCO1FBQ3RCLGlEQUFpRDtRQUNqRCxNQUFNQyxhQUFhLElBQUlDLGNBQWMsV0FBVztZQUFFOUMsS0FBSztRQUFJO1FBQzNERSxPQUFPNkMsYUFBYSxDQUFDRjtJQUN2QjtJQUVBLE9BQU87UUFDTGxGO1FBQ0FFO1FBQ0ErRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcHVibGljL3VzZUZsYXBweUJpcmRHYW1lLnRzPzVjNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG4vKipcclxuICogUGlwZSByZXByZXNlbnRzIGEgc2luZ2xlIHRvcCtib3R0b20gcGlwZSBwYWlyLFxyXG4gKiB3aXRoIGEgZ2FwIGluIGJldHdlZW4uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUGlwZSB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIGdhcFk6IG51bWJlcjsgICAgLy8gVGhlIHRvcCBZIG9mIHRoZSBnYXBcclxuICBzY29yZWQ6IGJvb2xlYW47IC8vIFdoZXRoZXIgd2UndmUgYWxyZWFkeSBhZGRlZCArMSB0byBzY29yZVxyXG59XHJcblxyXG4vKiogQ29uc3RhbnRzIC8gY29uZmlndXJhdGlvbiAqL1xyXG5jb25zdCBDQU5WQVNfV0lEVEggPSAzNjA7XHJcbmNvbnN0IENBTlZBU19IRUlHSFQgPSA2NDA7XHJcblxyXG5jb25zdCBCSVJEX1ggPSA4MDsgICAgICAgIC8vIEJpcmQncyBmaXhlZCBYIHBvc2l0aW9uXHJcbmNvbnN0IEJJUkRfU0laRSA9IDUwOyAgICAgLy8gQmlyZCB3aWR0aC9oZWlnaHRcclxuY29uc3QgR1JBVklUWSA9IDAuMjU7ICAgICAvLyBCaXJkIGZhbGxzIGVhY2ggZnJhbWVcclxuY29uc3QgRkxBUCA9IC03LjU7ICAgICAgICAvLyBCaXJkIGp1bXAgdmVsb2NpdHlcclxuY29uc3QgUElQRV9HQVAgPSAxNjA7ICAgICAvLyBWZXJ0aWNhbCBnYXBcclxuY29uc3QgUElQRV9XSURUSCA9IDkwOyAgICAvLyBQaXBlIHdpZHRoXHJcbmNvbnN0IFBJUEVfU1BFRUQgPSAyOyAgICAgLy8gTW92ZW1lbnQgc3BlZWRcclxuY29uc3QgUElQRV9TUEFXTl9JTlRFUlZBTCA9IDEwMDsgLy8gZnJhbWVzOiB+MS42NnMgQDYwZnBzXHJcblxyXG4vKiogXHJcbiAqIEFzc2V0cyB5b3UgaGF2ZTogcmVkYmlyZC11cGZsYXAucG5nLCBtaWRmbGFwLCBkb3duZmxhcCwgXHJcbiAqIGJhY2tncm91bmQtZGF5LnBuZywgVG9wVGlueS5wbmcsIEJvdHRvbVRpbnkucG5nLCBDb2luVGlueS5wbmdcclxuICogV2UnbGwga2VlcCB0aGUgY29pbiBsb2dpYyBvcHRpb25hbCBpZiB5b3Ugd2FudCwgYnV0IGxldCdzIHNpbXBsaWZ5IGZvciBub3cuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRmxhcHB5QmlyZEdhbWUoXHJcbiAgY2FudmFzUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTENhbnZhc0VsZW1lbnQ+LFxyXG4gIGlzUGF1c2VkOiBib29sZWFuLFxyXG4gIGF1dG9TdGFydDogYm9vbGVhblxyXG4pIHtcclxuICBjb25zdCByZXF1ZXN0SWRSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIC8vIFN0YXRlZnVsIHNjb3Jlc1xyXG4gIGNvbnN0IFtoaWdoU2NvcmUsIHNldEhpZ2hTY29yZV0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbY3VycmVudFNjb3JlLCBzZXRDdXJyZW50U2NvcmVdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4gIC8vIEJpcmQgcG9zaXRpb24gKyB2ZWxvY2l0eVxyXG4gIGNvbnN0IGJpcmRZUmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcbiAgY29uc3QgYmlyZFZlbG9jaXR5UmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcblxyXG4gIC8vIFBpcGUgYXJyYXlcclxuICBjb25zdCBwaXBlc1JlZiA9IHVzZVJlZjxQaXBlW10+KFtdKTtcclxuICAvLyBUcmFjayBmcmFtZXMgc28gd2Uga25vdyB3aGVuIHRvIHNwYXduXHJcbiAgY29uc3QgZnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuXHJcbiAgLy8gUmVmZXJlbmNlcyBmb3IgZ2FtZSBvdmVyICsgc3RhcnRlZFxyXG4gIGNvbnN0IGdhbWVPdmVyUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBnYW1lU3RhcnRlZFJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gIC8vIEJpcmQgaW1hZ2VzXHJcbiAgY29uc3QgYmlyZEltYWdlczogSFRNTEltYWdlRWxlbWVudFtdID0gW107XHJcbiAgbGV0IGJhY2tncm91bmRJbWc6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgbGV0IHBpcGVUb3BJbWc6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgbGV0IHBpcGVCb3RJbWc6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAvLyBCaXJkIGZyYW1lcyAob3B0aW9uYWw6IHVwLW1pZC1kb3duKVxyXG4gICAgY29uc3QgYmlyZFVwID0gbmV3IEltYWdlKCk7XHJcbiAgICBiaXJkVXAuc3JjID0gXCIvYXNzZXRzL3JlZGJpcmQtdXBmbGFwLnBuZ1wiO1xyXG4gICAgY29uc3QgYmlyZE1pZCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgYmlyZE1pZC5zcmMgPSBcIi9hc3NldHMvcmVkYmlyZC1taWRmbGFwLnBuZ1wiO1xyXG4gICAgY29uc3QgYmlyZERvd24gPSBuZXcgSW1hZ2UoKTtcclxuICAgIGJpcmREb3duLnNyYyA9IFwiL2Fzc2V0cy9yZWRiaXJkLWRvd25mbGFwLnBuZ1wiO1xyXG4gICAgYmlyZEltYWdlcy5wdXNoKGJpcmRVcCwgYmlyZE1pZCwgYmlyZERvd24pO1xyXG5cclxuICAgIGJhY2tncm91bmRJbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGJhY2tncm91bmRJbWcuc3JjID0gXCIvYXNzZXRzL2JhY2tncm91bmQtZGF5LnBuZ1wiO1xyXG5cclxuICAgIHBpcGVUb3BJbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHBpcGVUb3BJbWcuc3JjID0gXCIvYXNzZXRzL1RvcFRpbnkucG5nXCI7XHJcblxyXG4gICAgcGlwZUJvdEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgcGlwZUJvdEltZy5zcmMgPSBcIi9hc3NldHMvQm90dG9tVGlueS5wbmdcIjtcclxuICB9XHJcblxyXG4gIC8vIEN1cnJlbnQgYmlyZCBmcmFtZSBpbmRleCAoMD11cCwxPW1pZCwyPWRvd24pXHJcbiAgY29uc3QgY3VycmVudEJpcmRGcmFtZVJlZiA9IHVzZVJlZjxudW1iZXI+KDEpO1xyXG5cclxuICAvLyBPbiBtb3VudCwgbG9hZCBoaWdoIHNjb3JlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJoaWdoU2NvcmVcIik7XHJcbiAgICBpZiAoc2F2ZWQpIHNldEhpZ2hTY29yZShwYXJzZUludChzYXZlZCwgMTApKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFRoZSBtYWluIGVmZmVjdCB0aGF0IHNldHMgdXAgKyBydW5zIHRoZSBnYW1lXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBpZiAoIWN0eCkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgY2FudmFzIHNpemVcclxuICAgIGNhbnZhcy53aWR0aCA9IENBTlZBU19XSURUSDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfSEVJR0hUO1xyXG5cclxuICAgIC8vIDEpIFJlc2V0IGZ1bmN0aW9uXHJcbiAgICBmdW5jdGlvbiByZXNldEdhbWUoKSB7XHJcbiAgICAgIGJpcmRZUmVmLmN1cnJlbnQgPSBDQU5WQVNfSEVJR0hUIC8gMzsgXHJcbiAgICAgIGJpcmRWZWxvY2l0eVJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgcGlwZXNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgICBzZXRDdXJyZW50U2NvcmUoMCk7XHJcbiAgICAgIGdhbWVPdmVyUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgZ2FtZVN0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBmcmFtZVJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgY3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50ID0gMTsgLy8gbWlkIGZsYXBcclxuICAgIH1cclxuXHJcbiAgICAvLyAyKSBTdGFydCB0aGUgZ2FtZVxyXG4gICAgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gICAgICByZXNldEdhbWUoKTtcclxuICAgICAgZ2FtZVN0YXJ0ZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIHJlcXVlc3RJZFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDMpIEtleURvd246IHNwYWNlID0+IGZsYXAgb3IgcmVzdGFydFxyXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gXCIgXCIpIHtcclxuICAgICAgICBpZiAoIWdhbWVTdGFydGVkUmVmLmN1cnJlbnQgJiYgIWdhbWVPdmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIHN0YXJ0R2FtZSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtZU92ZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgLy8gcmVzdGFydFxyXG4gICAgICAgICAgc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGZsYXBcclxuICAgICAgICAgIGJpcmRWZWxvY2l0eVJlZi5jdXJyZW50ID0gRkxBUDtcclxuICAgICAgICAgIGZsYXBBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcblxyXG4gICAgLy8gNCkgQWRqdXN0IG9uIHJlc2l6ZSBpZiB5b3Ugd2FudFxyXG4gICAgZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkge1xyXG4gICAgICBpZiAoIWNhbnZhcylcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgY2FudmFzLndpZHRoID0gQ0FOVkFTX1dJRFRIO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gQ0FOVkFTX0hFSUdIVDtcclxuICAgICAgaWYgKCFnYW1lU3RhcnRlZFJlZi5jdXJyZW50ICYmICFnYW1lT3ZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgZHJhd1N0YXJ0U2NyZWVuKGN0eCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XHJcblxyXG4gICAgLy8gNSkgSW5pdGlhbGl6YXRpb25cclxuICAgIGRyYXdTdGFydFNjcmVlbihjdHgpO1xyXG5cclxuICAgIC8vIDYpIFRoZSBsb29wXHJcbiAgICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgaWYgKGlzUGF1c2VkIHx8ICFnYW1lU3RhcnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgLy8gSWYgcGF1c2VkLCBqdXN0IHNjaGVkdWxlIHRoZSBuZXh0IGZyYW1lXHJcbiAgICAgICAgcmVxdWVzdElkUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB1cGRhdGUoKTtcclxuICAgICAgZHJhdyhjdHgpO1xyXG5cclxuICAgICAgaWYgKCFnYW1lT3ZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgcmVxdWVzdElkUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZHJhd0dhbWVPdmVyU2NyZWVuKGN0eCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyA3KSBVcGRhdGUgbG9naWNcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgZnJhbWVSZWYuY3VycmVudCsrO1xyXG5cclxuICAgICAgLy8gQmlyZCBncmF2aXR5XHJcbiAgICAgIGJpcmRWZWxvY2l0eVJlZi5jdXJyZW50ICs9IEdSQVZJVFk7XHJcbiAgICAgIGJpcmRZUmVmLmN1cnJlbnQgKz0gYmlyZFZlbG9jaXR5UmVmLmN1cnJlbnQ7XHJcblxyXG4gICAgICAvLyBTcGF3biBwaXBlcyBldmVyeSBQSVBFX1NQQVdOX0lOVEVSVkFMIGZyYW1lc1xyXG4gICAgICBpZiAoZnJhbWVSZWYuY3VycmVudCAlIFBJUEVfU1BBV05fSU5URVJWQUwgPT09IDApIHtcclxuICAgICAgICBzcGF3blBpcGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTW92ZSBwaXBlc1xyXG4gICAgICBmb3IgKGNvbnN0IHBpcGUgb2YgcGlwZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHBpcGUueCAtPSBQSVBFX1NQRUVEO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgb2Zmc2NyZWVuXHJcbiAgICAgIHBpcGVzUmVmLmN1cnJlbnQgPSBwaXBlc1JlZi5jdXJyZW50LmZpbHRlcihcclxuICAgICAgICAocCkgPT4gcC54ICsgUElQRV9XSURUSCA+IDBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIENvbGxpc2lvbiBjaGVja1xyXG4gICAgICBpZiAoY2hlY2tDb2xsaXNpb24oKSkge1xyXG4gICAgICAgIGdhbWVPdmVyUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTY29yaW5nXHJcbiAgICAgIGZvciAoY29uc3QgcGlwZSBvZiBwaXBlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgaWYgKCFwaXBlLnNjb3JlZCAmJiBwaXBlLnggKyBQSVBFX1dJRFRIIDwgQklSRF9YKSB7XHJcbiAgICAgICAgICAvLyArMSBzY29yZVxyXG4gICAgICAgICAgc2V0Q3VycmVudFNjb3JlKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Njb3JlID0gcHJldiArIDE7XHJcbiAgICAgICAgICAgIHNldEhpZ2hTY29yZSgocHJldkhpZ2gpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBiZXN0ID0gTWF0aC5tYXgocHJldkhpZ2gsIG5ld1Njb3JlKTtcclxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImhpZ2hTY29yZVwiLCBiZXN0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBiZXN0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3JlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBwaXBlLnNjb3JlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gOCkgRHJhd1xyXG4gICAgZnVuY3Rpb24gZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVCk7XHJcblxyXG4gICAgICAvLyBkcmF3IGJhY2tncm91bmRcclxuICAgICAgaWYgKGJhY2tncm91bmRJbWcuY29tcGxldGUpIHtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGJhY2tncm91bmRJbWcsIDAsIDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGRyYXcgcGlwZXNcclxuICAgICAgZm9yIChjb25zdCBwaXBlIG9mIHBpcGVzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCBnYXBZID0gcGlwZS5nYXBZO1xyXG4gICAgICAgIGNvbnN0IHRvcEhlaWdodCA9IGdhcFk7XHJcbiAgICAgICAgY29uc3QgYm90dG9tWSA9IGdhcFkgKyBQSVBFX0dBUDtcclxuXHJcbiAgICAgICAgLy8gdG9wXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShcclxuICAgICAgICAgIHBpcGVUb3BJbWcsXHJcbiAgICAgICAgICBwaXBlLngsXHJcbiAgICAgICAgICB0b3BIZWlnaHQgLSBwaXBlVG9wSW1nLmhlaWdodCxcclxuICAgICAgICAgIFBJUEVfV0lEVEgsXHJcbiAgICAgICAgICBwaXBlVG9wSW1nLmhlaWdodFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIGJvdHRvbVxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgICBwaXBlQm90SW1nLFxyXG4gICAgICAgICAgcGlwZS54LFxyXG4gICAgICAgICAgYm90dG9tWSxcclxuICAgICAgICAgIFBJUEVfV0lEVEgsXHJcbiAgICAgICAgICBwaXBlQm90SW1nLmhlaWdodFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGRyYXcgYmlyZFxyXG4gICAgICBjb25zdCBjdXJyZW50QmlyZCA9IGJpcmRJbWFnZXNbY3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50XSB8fCBiaXJkSW1hZ2VzWzFdO1xyXG4gICAgICBpZiAoY3VycmVudEJpcmQuY29tcGxldGUpIHtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGN1cnJlbnRCaXJkLCBCSVJEX1gsIGJpcmRZUmVmLmN1cnJlbnQsIEJJUkRfU0laRSwgQklSRF9TSVpFKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIDkpIFN0YXJ0IHNjcmVlblxyXG4gICAgZnVuY3Rpb24gZHJhd1N0YXJ0U2NyZWVuKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKTtcclxuICAgICAgLy8gYmFja2dyb3VuZFxyXG4gICAgICBpZiAoYmFja2dyb3VuZEltZy5jb21wbGV0ZSkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoYmFja2dyb3VuZEltZywgMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKTtcclxuICAgICAgfVxyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICBjdHguZm9udCA9IFwiYm9sZCAyNHB4IEFyaWFsXCI7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgXCJQcmVzcyBTcGFjZSBvciBUYXBcIixcclxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxyXG4gICAgICAgIENBTlZBU19IRUlHSFQgLyAyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMTApIEdhbWUgT3ZlciBzY3JlZW5cclxuICAgIGZ1bmN0aW9uIGRyYXdHYW1lT3ZlclNjcmVlbihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCIjZmYzMzMzXCI7XHJcbiAgICAgIGN0eC5mb250ID0gXCJib2xkIDM2cHggQXJpYWxcIjtcclxuICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcIkdhbWUgT3ZlciFcIiwgQ0FOVkFTX1dJRFRIIC8gMiwgQ0FOVkFTX0hFSUdIVCAvIDIgLSA0MCk7XHJcblxyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICBjdHguZm9udCA9IFwiYm9sZCAyMHB4IEFyaWFsXCI7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICBcIlByZXNzIFNwYWNlIG9yIFRhcCB0byBSZXN0YXJ0XCIsXHJcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcclxuICAgICAgICBDQU5WQVNfSEVJR0hUIC8gMlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDExKSBTcGF3biBwaXBlXHJcbiAgICBmdW5jdGlvbiBzcGF3blBpcGUoKSB7XHJcbiAgICAgIGNvbnN0IGdhcFkgPSBNYXRoLnJhbmRvbSgpICogKENBTlZBU19IRUlHSFQgLSBQSVBFX0dBUCAtIDEwMCkgKyA1MDtcclxuICAgICAgcGlwZXNSZWYuY3VycmVudC5wdXNoKHtcclxuICAgICAgICB4OiBDQU5WQVNfV0lEVEgsXHJcbiAgICAgICAgZ2FwWSxcclxuICAgICAgICBzY29yZWQ6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxMikgQ29sbGlzaW9uIGNoZWNrXHJcbiAgICBmdW5jdGlvbiBjaGVja0NvbGxpc2lvbigpOiBib29sZWFuIHtcclxuICAgICAgLy8gYmlyZCBvdXRzaWRlIGNhbnZhcz9cclxuICAgICAgaWYgKGJpcmRZUmVmLmN1cnJlbnQgPCAwIHx8IGJpcmRZUmVmLmN1cnJlbnQgKyBCSVJEX1NJWkUgPiBDQU5WQVNfSEVJR0hUKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHBpcGUgY29sbGlzaW9uXHJcbiAgICAgIGZvciAoY29uc3QgcGlwZSBvZiBwaXBlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY29uc3QgdG9wUGlwZUJvdHRvbSA9IHBpcGUuZ2FwWTtcclxuICAgICAgICBjb25zdCBib3R0b21QaXBlVG9wID0gcGlwZS5nYXBZICsgUElQRV9HQVA7XHJcblxyXG4gICAgICAgIGNvbnN0IGJpcmRSaWdodCA9IEJJUkRfWCArIEJJUkRfU0laRTtcclxuICAgICAgICBjb25zdCBwaXBlUmlnaHQgPSBwaXBlLnggKyBQSVBFX1dJRFRIO1xyXG5cclxuICAgICAgICAvLyBJZiBob3Jpem9udGFsbHkgb3ZlcmxhcHBpbmdcclxuICAgICAgICBpZiAoYmlyZFJpZ2h0ID4gcGlwZS54ICYmIEJJUkRfWCA8IHBpcGVSaWdodCkge1xyXG4gICAgICAgICAgLy8gaWYgYmlyZCBpcyBhYm92ZSBnYXAgb3IgYmVsb3cgZ2FwXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGJpcmRZUmVmLmN1cnJlbnQgPCB0b3BQaXBlQm90dG9tIHx8XHJcbiAgICAgICAgICAgIGJpcmRZUmVmLmN1cnJlbnQgKyBCSVJEX1NJWkUgPiBib3R0b21QaXBlVG9wXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxMykgQmlyZCBmbGFwIGFuaW1hdGlvblxyXG4gICAgZnVuY3Rpb24gZmxhcEFuaW1hdGlvbigpIHtcclxuICAgICAgLy8gUXVpY2sgMy1mcmFtZSBjeWNsZVxyXG4gICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAwOyAvLyB1cFxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAxOyAvLyBtaWRcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGN1cnJlbnRCaXJkRnJhbWVSZWYuY3VycmVudCA9IDI7IC8vIGRvd25cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAxOyAvLyBtaWRcclxuICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgfSwgMTUwKTtcclxuICAgICAgfSwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxNCkgQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICBpZiAocmVxdWVzdElkUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RJZFJlZi5jdXJyZW50KTtcclxuICAgIH07XHJcbiAgfSwgW2NhbnZhc1JlZiwgaXNQYXVzZWQsIGF1dG9TdGFydF0pO1xyXG5cclxuICAvLyBXZSdsbCByZXR1cm4gYSBzdGFibGUgZnVuY3Rpb24gZm9yIG1vYmlsZSBjbGlja3NcclxuICBjb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7XHJcbiAgICAvLyBXZSdsbCBkaXNwYXRjaCBhIFwia2V5ZG93blwiIGV2ZW50IHdpdGgga2V5OiBcIiBcIlxyXG4gICAgY29uc3Qgc3BhY2VFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5ZG93blwiLCB7IGtleTogXCIgXCIgfSk7XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChzcGFjZUV2ZW50KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaGlnaFNjb3JlLFxyXG4gICAgY3VycmVudFNjb3JlLFxyXG4gICAgaGFuZGxlVXNlcklucHV0LFxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ0FOVkFTX1dJRFRIIiwiQ0FOVkFTX0hFSUdIVCIsIkJJUkRfWCIsIkJJUkRfU0laRSIsIkdSQVZJVFkiLCJGTEFQIiwiUElQRV9HQVAiLCJQSVBFX1dJRFRIIiwiUElQRV9TUEVFRCIsIlBJUEVfU1BBV05fSU5URVJWQUwiLCJ1c2VGbGFwcHlCaXJkR2FtZSIsImNhbnZhc1JlZiIsImlzUGF1c2VkIiwiYXV0b1N0YXJ0IiwicmVxdWVzdElkUmVmIiwiaGlnaFNjb3JlIiwic2V0SGlnaFNjb3JlIiwiY3VycmVudFNjb3JlIiwic2V0Q3VycmVudFNjb3JlIiwiYmlyZFlSZWYiLCJiaXJkVmVsb2NpdHlSZWYiLCJwaXBlc1JlZiIsImZyYW1lUmVmIiwiZ2FtZU92ZXJSZWYiLCJnYW1lU3RhcnRlZFJlZiIsImJpcmRJbWFnZXMiLCJiYWNrZ3JvdW5kSW1nIiwicGlwZVRvcEltZyIsInBpcGVCb3RJbWciLCJiaXJkVXAiLCJJbWFnZSIsInNyYyIsImJpcmRNaWQiLCJiaXJkRG93biIsInB1c2giLCJjdXJyZW50QmlyZEZyYW1lUmVmIiwic2F2ZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VJbnQiLCJjYW52YXMiLCJjdXJyZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzZXRHYW1lIiwic3RhcnRHYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZmxhcEFuaW1hdGlvbiIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSZXNpemUiLCJkcmF3U3RhcnRTY3JlZW4iLCJ0aW1lc3RhbXAiLCJ1cGRhdGUiLCJkcmF3IiwiZHJhd0dhbWVPdmVyU2NyZWVuIiwic3Bhd25QaXBlIiwicGlwZSIsIngiLCJmaWx0ZXIiLCJwIiwiY2hlY2tDb2xsaXNpb24iLCJzY29yZWQiLCJwcmV2IiwibmV3U2NvcmUiLCJwcmV2SGlnaCIsImJlc3QiLCJNYXRoIiwibWF4Iiwic2V0SXRlbSIsInRvU3RyaW5nIiwiY2xlYXJSZWN0IiwiY29tcGxldGUiLCJkcmF3SW1hZ2UiLCJnYXBZIiwidG9wSGVpZ2h0IiwiYm90dG9tWSIsImN1cnJlbnRCaXJkIiwiZmlsbFN0eWxlIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwicmFuZG9tIiwidG9wUGlwZUJvdHRvbSIsImJvdHRvbVBpcGVUb3AiLCJiaXJkUmlnaHQiLCJwaXBlUmlnaHQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlVXNlcklucHV0Iiwic3BhY2VFdmVudCIsIktleWJvYXJkRXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/useFlappyBirdGame.ts\n"));

/***/ })

});