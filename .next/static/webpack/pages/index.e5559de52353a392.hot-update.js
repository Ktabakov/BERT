"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./public/walletActions.ts":
/*!*********************************!*\
  !*** ./public/walletActions.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateCountdown: () => (/* binding */ calculateCountdown),\n/* harmony export */   claimTokens: () => (/* binding */ claimTokens),\n/* harmony export */   send: () => (/* binding */ send)\n/* harmony export */ });\n/* harmony import */ var _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hyperionbt/helios */ \"./node_modules/@hyperionbt/helios/helios.js\");\n/* harmony import */ var _common_network__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/network */ \"./common/network.ts\");\n/* harmony import */ var _contracts_GameReward_hl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/GameReward.hl */ \"./contracts/GameReward.hl\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/buffer/index.js\")[\"Buffer\"];\n\n\n // Ensure correct path to your contract\nconst optimize = false;\nfunction calculateCountdown() {\n    const TimeBeginContract = 1736073600000;\n    const TimeNow = Math.floor(Date.now());\n    const CYCLE_DURATION = 600 // 10 minutes \n    ;\n    const offsetInMs = 89680;\n    const elapsedTime = TimeNow - offsetInMs - TimeBeginContract;\n    const elapsedTimeInSeconds = elapsedTime / 1000;\n    const positionInCycle = elapsedTimeInSeconds % CYCLE_DURATION;\n    return positionInCycle;\n}\nasync function claimTokens(walletAPI, setIsLoading, setTx) {\n    setIsLoading(true);\n    if (!walletAPI) {\n        throw new Error(\"Wallet API is not set.\");\n    }\n    try {\n        const cip30WalletAPI = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Cip30Wallet(walletAPI);\n        const walletHelper = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.WalletHelper(cip30WalletAPI);\n        // Read in the network parameter file\n        const networkParamsJson = await (0,_common_network__WEBPACK_IMPORTED_MODULE_0__.getNetworkParams)(_common_network__WEBPACK_IMPORTED_MODULE_0__.network);\n        const networkParams = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.NetworkParams(networkParamsJson);\n        const policyId = \"a3879594925e2ab170ed0c34204d84765411ad23e43e98771dd5a6d2\";\n        const name = Buffer.from(\"BERT\", 'utf8').toString('hex');\n        const mph = _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.MintingPolicyHash.fromHex(policyId);\n        const assetClass = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.AssetClass({\n            mph: mph,\n            tokenName: name\n        });\n        console.log(assetClass);\n        const utxos = await walletHelper.getUtxos();\n        console.log(\"utxos\" + utxos);\n        // Get change address\n        const benefitiary = await walletHelper.changeAddress;\n        // Load in the vesting validator script (program)\n        const program = _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Program.new(\"59096659096301000032323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232222533357346660086026006602200460f00022930983ba4811976616c69646174696f6e2072657475726e65642066616c7365002223232323232323232323232323325333573466e1c0052000123307500e301f0111232335736660ea660e8660e6016002014921254e6f7420656e6f75676820746f6b656e732073656e74206261636b20746f2073637269707400335736660ea660e8660e0660a001e603c00401c002920116496e636f727265637420746f6b656e207061796f757400335736660ea6609c00a9452401134e6f7420696e20636c61696d2077696e646f770053335734660e80149000099ab9b3307533074301500c480012412e4e6f20736372697074206f7574707574732073686f756c642072656d61696e2061742066696e616c20636c61696d004a22a266ae6ccc1d4cc1d0c05403120044911049206e6565642032206f75747075747300335736660ea6609a01001292011d4e6f204144412063616e206c656176652074686520636f6e7472616374004a2a666ae68cc12c0140284028544014d55ce9baa00100100d301100230130013042304000833300c3056007225333573464664a666ae68cdc3800a40042466086608200201424940d55ce9baa0010013056305500113303d00253037305e00115100248000ccc028c0cc018894ccd5cd191992999ab9a3370e0029001091982118200008048925035573a6ea8004004c154c150c0d00044cc0f00094c0d8c174c0d0004544009200033300a002223303b00233068305c00100648000ccc020c0c401088cc0e8008cc19cc16cc0c800401520003302b003001530250033303100f53023491044245525400302500122233305f0032233004002302200100122233305e0032233004002302000100101923232323232335736603aa60360040026603200200e6602e00200a660280026026906807998088010009807a4101e1cdc10cca905804a405046464646466ae6cc0654c03c014c8cd5cd980d2980c000a999ab9a3306100148000401c54ccd5cd19830800a400426602a00e90020a999ab9a33061001480104cc05401d200815133015007480214ccd5cd1981c00080388038a880099809800803998088009808241a01e6601c004002601890407873704332a41413802900224101396a0e600a91011ca3879594925e2ab170ed0c34204d84765411ad23e43e98771dd5a6d20023039305500106806703506500806304e061001706e19c4909b99325333573466e200092000133716902d19980080099b820024800522100133300100100248900222325333573466e2000d20141001133300400433706006900a00099b8b300500200123370066e180052014481808cd5ce000a4c4646600200200444a666aae7c00452000133700660040046ae8800520020580572137300024260266010605660546014a6004002426464660020026018600800644a666aae7c0044c1592401096e6f7420666f756e64001325333573466ebcc01c00401040044cc00c00cd5d10011aba10015300400103e03d21303d303c0012233028002233004001002223253335734600a002266022004601e60080022940c098c0940088cc070005200223370e6aae74dd5000a400406c46eb0c0dc00484cc0d0004008cc005220100488100223374a900019802180180118238008221119aba000230030012335740002058e008c008c0bc00404804c0048d5d0981980091801181518151815000800bad2230053371200400244600866e2000800488ccd5cd00100098018009199ab9a0014a094488c050cc00c00800488cc0380088cc01000400888c94ccd5cd1805800899804801180318020008a50300c300b00223300200148000894ccd5cd19b8735573a6ea800800440084c0cd2411c756e657870656374656420636f6e7374727563746f7220696e6465780023002301e00100175c002e3c8cdc39aab9d3754002900000b80b1119802980180100091bac300200123574260420024466600600400201e44464666002002008006444a666aae7c00840104c94ccd5cd1801000899aba00013330040043574400600426660080086ae8800c008d5d08011199807000911980300118028008011bb24988dd5980700091199801801000b8022232333001001330070040033764931112999aab9f0021001132323253335573e0022004266ae80cdd80019ba600100233300a0063300900800233009007002333004004357440060046ae8400888c8cc00400400c894ccd55cf80089bb249854ccd5cd19baf35573a6ae8400400c4dd59aab9e357420022660040046ae88004888c8ccc004004cc01400c008dd924c444a666aae7c00840044c8c8c94ccd5cd19b870014800040084cd5d019bb00033750002004660106601c00e0046601c00c0046660080086ae8800c008d5d080111191919198030018009998008008010019112999aab9f001100a132533357346601200a00226660080080066ae880084cd5d00009998020020019aba200235573a6ae84004c01400888c8ccc00400400800c8894ccd55cf8008801099aba0357420026660060060046ae8800488cc0640088cdd780080111919800800801112999aab9f001100413357406aae74d5d0800998010011aba200137629311191998008008018011112999aab9f00214800054ccd5cd19baf35573a6ae840080044dd69aab9e3574200426660060066ae88008004888c8ccc0040040100088894ccd55cf801080089998018019aba20023300500135742004446464646466600400400200c44a666aae7c0045200015333573466ebcd55ce9aba10010041375a6aae78d5d08008998010011aba200122253335573e002290000a999ab9a3375e6aae74d5d08008028998010011bab35573c6ae840044ccc00c00c008d5d10009802001180200091aba130100012357426020002e05c3912999ab9a002149854cd5ce0008b1119198079802001919baf001002300f00123758600400246ae84c0080048d5d1180100091aba23002001235744600400246ae88c0080048d5d1180100091aba23002001235744600400246ae88c0080048d55cf1baa001223233300100100300222253335573e004294054ccd5cd18009aba100214a226660060066ae88008004005d49299ab9c0011600120011\");\n        const gameReward = new _contracts_GameReward_hl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        // Compile the vesting validator\n        const compiledProgram = gameReward.compile(optimize);\n        console.log(\"Wallet address: \" + benefitiary);\n        const scriptAddress = _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Address.fromHashes(compiledProgram.validatorHash);\n        console.log(scriptAddress.toBech32());\n        console.log(\"Script Address:\" + scriptAddress);\n        console.dir(scriptAddress, {\n            depth: null\n        });\n        const sortedUtxos = await fetchUtxos(scriptAddress.toBech32());\n        const CLAIM_WINDOW = 20; // 20 seconds \n        const positionInCycle = calculateCountdown();\n        console.log(\"positionInCycle\" + positionInCycle);\n        window.onerror = ()=>positionInCycle < CLAIM_WINDOW;\n        //const dynamicReward = calculateReward(Number(remainingSupply), TOTAL_SUPPLY, BASE_REWARD);\n        const testValueBenefitiary = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Assets([\n            [\n                assetClass,\n                BigInt(sortedUtxos.dynamicReward)\n            ]\n        ]);\n        //const totalAmountUtxo = getTokenAmountFromUtxos(sortedUtxos.selected, assetClass);\n        const amountToSendBack = BigInt(sortedUtxos.totalAmount) - BigInt(sortedUtxos.dynamicReward);\n        const firstPartToSendBack = amountToSendBack / 2n; // First part is half of the total amount\n        const secondPartToSendBack = amountToSendBack - firstPartToSendBack; // Second part is the remainder\n        console.log(\"First \" + firstPartToSendBack);\n        console.log(\"Sevond \" + secondPartToSendBack);\n        console.log(sortedUtxos.dynamicReward);\n        const valueContract1 = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Assets([\n            [\n                assetClass,\n                firstPartToSendBack\n            ]\n        ]);\n        const valueContract2 = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Assets([\n            [\n                assetClass,\n                secondPartToSendBack\n            ]\n        ]);\n        const gameDatum = new gameReward.types.Datum(benefitiary.pubKeyHash);\n        // Create the vesting claim redeemer\n        const redeember = new gameReward.types.Redeemer.Claim(benefitiary.pubKeyHash)._toUplcData();\n        //console.log(filteredUtxos);\n        const tx = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Tx();\n        //tx.addInputs(utxos[0]);\n        tx.addInputs(sortedUtxos.selected, redeember);\n        tx.attachScript(compiledProgram);\n        var userClaimOutput = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.TxOutput(benefitiary, new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(undefined, testValueBenefitiary));\n        tx.addOutput(userClaimOutput);\n        //Shiiit, fix. Someone could rediredt the rest of the tokens\n        // const addressStr = \"addr_test1qrarqhmklnhwcw3q0zm6sgm3g3l7pua0y36sql9k5ru8dsucglsked5f5yrcf9e9xgxjgmt7xk52knh8h0dgayc00arqlh7g60\";\n        // const address = Address.fromBech32(addressStr);\n        // tx.addOutput(new TxOutput(\n        //   address,\n        //   new Value(undefined, testValueContract) // The amount being claimed\n        // ));\n        // Calculate total ADA in the selected script inputs\n        let totalAdaInInputs = BigInt(0);\n        sortedUtxos.selected.forEach((utxo)=>{\n            totalAdaInInputs += BigInt(utxo.output.value.lovelace);\n        });\n        // Distribute ADA equally (or as required) among script outputs\n        const adaPerScriptOutput = totalAdaInInputs / 2n; // Assuming two script outputs\n        if (amountToSendBack != BigInt(0)) {\n            var scriptUtxo1 = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.TxOutput(scriptAddress, new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(adaPerScriptOutput, valueContract1), _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Datum.inline(gameDatum) // Contract requires datum\n            );\n            tx.addOutput(scriptUtxo1);\n            var scriptUtxo2 = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.TxOutput(scriptAddress, new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(totalAdaInInputs - adaPerScriptOutput, valueContract2), _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Datum.inline(gameDatum) // Contract requires datum\n            );\n            tx.addOutput(scriptUtxo2);\n        }\n        //var inputFees = await walletHelper.pickUtxos(new Value(tokenAmountFees));\n        //tx.addInputs(inputFees[0]);\n        console.log(\"We attatched everything!\");\n        await tx.finalize(networkParams, benefitiary, utxos);\n        console.log(\"dali finalizirahme?\");\n        // Sign the unsigned tx to get the witness\n        const signatures = await cip30WalletAPI.signTx(tx);\n        tx.addSignatures(signatures);\n        console.log(\"Dali q signirahme?\");\n        const txHash = await cip30WalletAPI.submitTx(tx);\n        setTx({\n            txId: txHash.hex\n        });\n        setIsLoading(false);\n    } catch (err) {\n        setIsLoading(false);\n        console.error(\"submit tx failed\", err);\n        throw err;\n    }\n}\nasync function send(walletAPI, setIsLoading, setTx) {\n    setIsLoading(true);\n    if (!walletAPI) {\n        throw console.error(\"walletAPI is not set\");\n    }\n    try {\n        const cip30WalletAPI = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Cip30Wallet(walletAPI);\n        // const blockfrost = new BlockFrostIPFS({\n        //   network: network,\n        //   projectId: \"preprodJExO0MAMRgfpXz9Il4IqB2u9ddoylZBT\",\n        // });\n        console.log(\"gmmm\");\n        const walletHelper = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.WalletHelper(cip30WalletAPI);\n        const policyId = \"a3879594925e2ab170ed0c34204d84765411ad23e43e98771dd5a6d2\";\n        const name = Buffer.from(\"BERT\", 'utf8').toString('hex');\n        const mph = _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.MintingPolicyHash.fromHex(policyId);\n        const assetClass = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.AssetClass({\n            mph: mph,\n            tokenName: name // Convert to hex string\n        });\n        console.log(assetClass);\n        const minAda = 1000000; // minimum lovelace to send\n        const minAdaVal = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(BigInt(minAda));\n        const testValueScript = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Assets([\n            [\n                assetClass,\n                BigInt(125550)\n            ]\n        ]);\n        // Get wallet UTXOs\n        const utxos = await walletHelper.pickUtxos(new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(undefined, testValueScript));\n        console.log(utxos);\n        // Get change address\n        const benefitiary = await walletHelper.changeAddress;\n        // Load in the vesting validator script (program)\n        const gameReward = new _contracts_GameReward_hl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        // Compile the vesting validator\n        const compiledProgram = gameReward.compile(optimize);\n        console.log(\"Wallet address: \" + benefitiary);\n        const scriptAddress = _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Address.fromHashes(compiledProgram.validatorHash);\n        //remove\n        console.log(scriptAddress.toBech32());\n        console.log(\"Script Address:\" + scriptAddress);\n        // Construct the vesting datum\n        const gameDatum = new gameReward.types.Datum(benefitiary.pubKeyHash);\n        //const redeember = (new gameReward.types.Redeemer.Claim())._toUplcData();\n        const tx = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Tx();\n        tx.addInputs(utxos[0]);\n        tx.addOutput(new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.TxOutput(scriptAddress, new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Value(undefined, testValueScript), _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.Datum.inline(gameDatum)));\n        // tx.addOutput(new TxOutput(\n        //   benefitiary,\n        //   minAdaVal,\n        // ));\n        console.log(\"We attatched everything!\");\n        // Read in the network parameter file\n        const networkParamsJson = await (0,_common_network__WEBPACK_IMPORTED_MODULE_0__.getNetworkParams)(_common_network__WEBPACK_IMPORTED_MODULE_0__.network);\n        const networkParams = new _hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.NetworkParams(networkParamsJson);\n        // Send any change back to the buyer\n        await tx.finalize(networkParams, benefitiary, utxos[1]);\n        // Sign the unsigned tx to get the witness\n        const signatures = await cip30WalletAPI.signTx(tx);\n        tx.addSignatures(signatures);\n        console.log(\"signed\");\n        // Submit the signed tx\n        const txHash = await cip30WalletAPI.submitTx(tx);\n        setTx({\n            txId: txHash.hex\n        });\n        setIsLoading(false);\n    } catch (err) {\n        setIsLoading(false);\n        throw console.error(\"submit tx failed\", err);\n    }\n}\nasync function fetchUtxos(scriptAddress) {\n    const response = await fetch(\"/api/getUtxos\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            scriptAddress\n        })\n    });\n    const data = await response.json(); // Raw JSON array from backend\n    // `Convert JSON back to TxInput objects\n    const selectedUtxos = data.selected.map((utxo)=>_hyperionbt_helios__WEBPACK_IMPORTED_MODULE_2__.TxInput.fromFullCbor(utxo));\n    const dynamicReward = BigInt(data.dynamicReward);\n    const totalAmount = BigInt(data.totalAmount);\n    console.log(\"selectedUtxos\" + selectedUtxos);\n    console.log(\"dynamicReward\" + dynamicReward);\n    console.log(\"totalAmount\" + totalAmount);\n    return {\n        selected: selectedUtxos,\n        totalAmount: totalAmount,\n        dynamicReward: dynamicReward\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RWpFO1FBQWE7SUFDdEM7SUFFQSxNQUFNa0UsT0FBTyxNQUFNUCxTQUFTUSxJQUFJLElBQUksOEJBQThCO0lBRWxFLHdDQUF3QztJQUN4QyxNQUFNQyxnQkFBZ0JGLEtBQUtyQyxRQUFRLENBQUN3QyxHQUFHLENBQUMsQ0FBQ2pDLE9BQWMxRix1REFBT0EsQ0FBQzRILFlBQVksQ0FBQ2xDO0lBQzVFLE1BQU12QixnQkFBd0JELE9BQU9zRCxLQUFLckQsYUFBYTtJQUN2RCxNQUFNRSxjQUFzQkgsT0FBT3NELEtBQUtuRCxXQUFXO0lBQ25EMUIsUUFBUUMsR0FBRyxDQUFDLGtCQUFpQjhFO0lBQzdCL0UsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQnVCO0lBQzlCeEIsUUFBUUMsR0FBRyxDQUFDLGdCQUFleUI7SUFFM0IsT0FBTztRQUNMYyxVQUFVdUM7UUFDVnJELGFBQWFBO1FBQ2JGLGVBQWVBO0lBQ2pCO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxVbHRpbWF0ZS1DYXJkYW5vLVNtYXJ0LUNvbnRyYWN0c1xcRmxhcHB5QmlyZEdhbWVcXGhlbGlvc1xcR2FtZVJld2FyZFxccHVibGljXFx3YWxsZXRBY3Rpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxyXG4gICAgTmV0d29ya1BhcmFtcyxcclxuICAgIFZhbHVlLFxyXG4gICAgVHhPdXRwdXQsXHJcbiAgICBUeCxcclxuICAgIFR4SW5wdXQsXHJcbiAgICBDaXAzMFdhbGxldCxcclxuICAgIERhdHVtLFxyXG4gICAgQXNzZXRzLFxyXG4gICAgV2FsbGV0SGVscGVyLFxyXG4gICAgTWludGluZ1BvbGljeUhhc2gsXHJcbiAgICBQcm9ncmFtLFxyXG4gICAgQXNzZXRDbGFzcyxcclxuICAgIEFkZHJlc3MsXHJcbiAgICBVcGxjRGF0YSxcclxuICB9IGZyb20gXCJAaHlwZXJpb25idC9oZWxpb3NcIjtcclxuICBpbXBvcnQgeyBuZXR3b3JrLCBnZXROZXR3b3JrUGFyYW1zIH0gZnJvbSAnLi4vY29tbW9uL25ldHdvcmsnO1xyXG4gIGltcG9ydCBHYW1lUmV3YXJkIGZyb20gJy4uL2NvbnRyYWN0cy9HYW1lUmV3YXJkLmhsJzsgLy8gRW5zdXJlIGNvcnJlY3QgcGF0aCB0byB5b3VyIGNvbnRyYWN0XHJcbiAgXHJcbiAgY29uc3Qgb3B0aW1pemUgPSBmYWxzZTtcclxuICBcclxuICBleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQ291bnRkb3duKCk6IG51bWJlciB7XHJcbiAgXHJcbiAgICBjb25zdCBUaW1lQmVnaW5Db250cmFjdCA9IDE3MzYwNzM2MDAwMDA7XHJcblxyXG4gICAgY29uc3QgVGltZU5vdzogbnVtYmVyID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTsgXHJcbiAgICBjb25zdCBDWUNMRV9EVVJBVElPTiA9IDYwMCAvLyAxMCBtaW51dGVzIFxyXG4gICAgY29uc3Qgb2Zmc2V0SW5NcyA9IDg5NjgwO1xyXG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSBUaW1lTm93IC0gKG9mZnNldEluTXMpIC0gVGltZUJlZ2luQ29udHJhY3Q7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZUluU2Vjb25kcyA9IGVsYXBzZWRUaW1lIC8gMTAwMDtcclxuICAgIGNvbnN0IHBvc2l0aW9uSW5DeWNsZSA9IGVsYXBzZWRUaW1lSW5TZWNvbmRzICUgQ1lDTEVfRFVSQVRJT047XHJcbiAgXHJcbiAgICByZXR1cm4gcG9zaXRpb25JbkN5Y2xlO1xyXG4gIH0gXHJcbiAgXHJcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsYWltVG9rZW5zKHdhbGxldEFQSTogYW55LCBzZXRJc0xvYWRpbmc6ICh2YWw6IGJvb2xlYW4pID0+IHZvaWQsIHNldFR4OiAodmFsOiB7dHhJZDogc3RyaW5nfSkgPT4gdm9pZCkge1xyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIGlmICghd2FsbGV0QVBJKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2FsbGV0IEFQSSBpcyBub3Qgc2V0LlwiKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNpcDMwV2FsbGV0QVBJID0gbmV3IENpcDMwV2FsbGV0KHdhbGxldEFQSSk7XHJcblxyXG4gICAgICBjb25zdCB3YWxsZXRIZWxwZXIgPSBuZXcgV2FsbGV0SGVscGVyKGNpcDMwV2FsbGV0QVBJKTtcclxuICAgICAgLy8gUmVhZCBpbiB0aGUgbmV0d29yayBwYXJhbWV0ZXIgZmlsZVxyXG4gICAgICBjb25zdCBuZXR3b3JrUGFyYW1zSnNvbiA9IGF3YWl0IGdldE5ldHdvcmtQYXJhbXMobmV0d29yayk7XHJcbiAgICAgIGNvbnN0IG5ldHdvcmtQYXJhbXMgPSBuZXcgTmV0d29ya1BhcmFtcyhuZXR3b3JrUGFyYW1zSnNvbik7XHJcblxyXG4gICAgICBjb25zdCBwb2xpY3lJZCA9IFwiYTM4Nzk1OTQ5MjVlMmFiMTcwZWQwYzM0MjA0ZDg0NzY1NDExYWQyM2U0M2U5ODc3MWRkNWE2ZDJcIjtcclxuICAgICAgY29uc3QgbmFtZSA9IEJ1ZmZlci5mcm9tKFwiQkVSVFwiLCAndXRmOCcpLnRvU3RyaW5nKCdoZXgnKTtcclxuXHJcbiAgICAgIGNvbnN0IG1waCA9IE1pbnRpbmdQb2xpY3lIYXNoLmZyb21IZXgocG9saWN5SWQpO1xyXG5cclxuICAgICAgY29uc3QgYXNzZXRDbGFzcyA9IG5ldyBBc3NldENsYXNzKHtcclxuICAgICAgICBtcGg6IG1waCwgXHJcbiAgICAgICAgdG9rZW5OYW1lOiBuYW1lXHJcbiAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYXNzZXRDbGFzcylcclxuXHJcbiAgICAgIGNvbnN0IHV0eG9zID0gYXdhaXQgd2FsbGV0SGVscGVyLmdldFV0eG9zKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidXR4b3NcIiArIHV0eG9zKTtcclxuXHJcbiAgICAgIC8vIEdldCBjaGFuZ2UgYWRkcmVzc1xyXG4gICAgICBjb25zdCBiZW5lZml0aWFyeSA9IGF3YWl0IHdhbGxldEhlbHBlci5jaGFuZ2VBZGRyZXNzO1xyXG4gICAgICAvLyBMb2FkIGluIHRoZSB2ZXN0aW5nIHZhbGlkYXRvciBzY3JpcHQgKHByb2dyYW0pXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcm9ncmFtID0gUHJvZ3JhbS5uZXcoXCI1OTA5NjY1OTA5NjMwMTAwMDAzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjIyMjUzMzM1NzM0NjY2MDA4NjAyNjAwNjYwMjIwMDQ2MGYwMDAyMjkzMDk4M2JhNDgxMTk3NjYxNmM2OTY0NjE3NDY5NmY2ZTIwNzI2NTc0NzU3MjZlNjU2NDIwNjY2MTZjNzM2NTAwMjIyMzIzMjMyMzIzMjMyMzIzMjMyMzIzMjMyMzMyNTMzMzU3MzQ2NmUxYzAwNTIwMDAxMjMzMDc1MDBlMzAxZjAxMTEyMzIzMzU3MzY2NjBlYTY2MGU4NjYwZTYwMTYwMDIwMTQ5MjEyNTRlNmY3NDIwNjU2ZTZmNzU2NzY4MjA3NDZmNmI2NTZlNzMyMDczNjU2ZTc0MjA2MjYxNjM2YjIwNzQ2ZjIwNzM2MzcyNjk3MDc0MDAzMzU3MzY2NjBlYTY2MGU4NjYwZTA2NjBhMDAxZTYwM2MwMDQwMWMwMDI5MjAxMTY0OTZlNjM2ZjcyNzI2NTYzNzQyMDc0NmY2YjY1NmUyMDcwNjE3OTZmNzU3NDAwMzM1NzM2NjYwZWE2NjA5YzAwYTk0NTI0MDExMzRlNmY3NDIwNjk2ZTIwNjM2YzYxNjk2ZDIwNzc2OTZlNjQ2Zjc3MDA1MzMzNTczNDY2MGU4MDE0OTAwMDA5OWFiOWIzMzA3NTMzMDc0MzAxNTAwYzQ4MDAxMjQxMmU0ZTZmMjA3MzYzNzI2OTcwNzQyMDZmNzU3NDcwNzU3NDczMjA3MzY4NmY3NTZjNjQyMDcyNjU2ZDYxNjk2ZTIwNjE3NDIwNjY2OTZlNjE2YzIwNjM2YzYxNjk2ZDAwNGEyMmEyNjZhZTZjY2MxZDRjYzFkMGMwNTQwMzEyMDA0NDkxMTA0OTIwNmU2NTY1NjQyMDMyMjA2Zjc1NzQ3MDc1NzQ3MzAwMzM1NzM2NjYwZWE2NjA5YTAxMDAxMjkyMDExZDRlNmYyMDQxNDQ0MTIwNjM2MTZlMjA2YzY1NjE3NjY1MjA3NDY4NjUyMDYzNmY2ZTc0NzI2MTYzNzQwMDRhMmE2NjZhZTY4Y2MxMmMwMTQwMjg0MDI4NTQ0MDE0ZDU1Y2U5YmFhMDAxMDAxMDBkMzAxMTAwMjMwMTMwMDEzMDQyMzA0MDAwODMzMzAwYzMwNTYwMDcyMjUzMzM1NzM0NjQ2NjRhNjY2YWU2OGNkYzM4MDBhNDAwNDI0NjYwODY2MDgyMDAyMDE0MjQ5NDBkNTVjZTliYWEwMDEwMDEzMDU2MzA1NTAwMTEzMzAzZDAwMjUzMDM3MzA1ZTAwMTE1MTAwMjQ4MDAwY2NjMDI4YzBjYzAxODg5NGNjZDVjZDE5MTk5Mjk5OWFiOWEzMzcwZTAwMjkwMDEwOTE5ODIxMTgyMDAwMDgwNDg5MjUwMzU1NzNhNmVhODAwNDAwNGMxNTRjMTUwYzBkMDAwNDRjYzBmMDAwOTRjMGQ4YzE3NGMwZDAwMDQ1NDQwMDkyMDAwMzMzMDBhMDAyMjIzMzAzYjAwMjMzMDY4MzA1YzAwMTAwNjQ4MDAwY2NjMDIwYzBjNDAxMDg4Y2MwZTgwMDhjYzE5Y2MxNmNjMGM4MDA0MDE1MjAwMDMzMDJiMDAzMDAxNTMwMjUwMDMzMzAzMTAwZjUzMDIzNDkxMDQ0MjQ1NTI1NDAwMzAyNTAwMTIyMjMzMzA1ZjAwMzIyMzMwMDQwMDIzMDIyMDAxMDAxMjIyMzMzMDVlMDAzMjIzMzAwNDAwMjMwMjAwMDEwMDEwMTkyMzIzMjMyMzIzMjMzNTczNjYwM2FhNjAzNjAwNDAwMjY2MDMyMDAyMDBlNjYwMmUwMDIwMGE2NjAyODAwMjYwMjY5MDY4MDc5OTgwODgwMTAwMDk4MDdhNDEwMWUxY2RjMTBjY2E5MDU4MDRhNDA1MDQ2NDY0NjQ2NDY2YWU2Y2MwNjU0YzAzYzAxNGM4Y2Q1Y2Q5ODBkMjk4MGMwMDBhOTk5YWI5YTMzMDYxMDAxNDgwMDA0MDFjNTRjY2Q1Y2QxOTgzMDgwMGE0MDA0MjY2MDJhMDBlOTAwMjBhOTk5YWI5YTMzMDYxMDAxNDgwMTA0Y2MwNTQwMWQyMDA4MTUxMzMwMTUwMDc0ODAyMTRjY2Q1Y2QxOTgxYzAwMDgwMzg4MDM4YTg4MDA5OTgwOTgwMDgwMzk5ODA4ODAwOTgwODI0MWEwMWU2NjAxYzAwNDAwMjYwMTg5MDQwNzg3MzcwNDMzMmE0MTQxMzgwMjkwMDIyNDEwMTM5NmEwZTYwMGE5MTAxMWNhMzg3OTU5NDkyNWUyYWIxNzBlZDBjMzQyMDRkODQ3NjU0MTFhZDIzZTQzZTk4NzcxZGQ1YTZkMjAwMjMwMzkzMDU1MDAxMDY4MDY3MDM1MDY1MDA4MDYzMDRlMDYxMDAxNzA2ZTE5YzQ5MDliOTkzMjUzMzM1NzM0NjZlMjAwMDkyMDAwMTMzNzE2OTAyZDE5OTgwMDgwMDk5YjgyMDAyNDgwMDUyMjEwMDEzMzMwMDEwMDEwMDI0ODkwMDIyMjMyNTMzMzU3MzQ2NmUyMDAwZDIwMTQxMDAxMTMzMzAwNDAwNDMzNzA2MDA2OTAwYTAwMDk5YjhiMzAwNTAwMjAwMTIzMzcwMDY2ZTE4MDA1MjAxNDQ4MTgwOGNkNWNlMDAwYTRjNDY0NjYwMDIwMDIwMDQ0NGE2NjZhYWU3YzAwNDUyMDAwMTMzNzAwNjYwMDQwMDQ2YWU4ODAwNTIwMDIwNTgwNTcyMTM3MzAwMDI0MjYwMjY2MDEwNjA1NjYwNTQ2MDE0YTYwMDQwMDI0MjY0NjQ2NjAwMjAwMjYwMTg2MDA4MDA2NDRhNjY2YWFlN2MwMDQ0YzE1OTI0MDEwOTZlNmY3NDIwNjY2Zjc1NmU2NDAwMTMyNTMzMzU3MzQ2NmViY2MwMWMwMDQwMTA0MDA0NGNjMDBjMDBjZDVkMTAwMTFhYmExMDAxNTMwMDQwMDEwM2UwM2QyMTMwM2QzMDNjMDAxMjIzMzAyODAwMjIzMzAwNDAwMTAwMjIyMzI1MzMzNTczNDYwMGEwMDIyNjYwMjIwMDQ2MDFlNjAwODAwMjI5NDBjMDk4YzA5NDAwODhjYzA3MDAwNTIwMDIyMzM3MGU2YWFlNzRkZDUwMDBhNDAwNDA2YzQ2ZWIwYzBkYzAwNDg0Y2MwZDAwMDQwMDhjYzAwNTIyMDEwMDQ4ODEwMDIyMzM3NGE5MDAwMTk4MDIxODAxODAxMTgyMzgwMDgyMjExMTlhYmEwMDAyMzAwMzAwMTIzMzU3NDAwMDIwNThlMDA4YzAwOGMwYmMwMDQwNDgwNGMwMDQ4ZDVkMDk4MTk4MDA5MTgwMTE4MTUxODE1MTgxNTAwMDgwMGJhZDIyMzAwNTMzNzEyMDA0MDAyNDQ2MDA4NjZlMjAwMDgwMDQ4OGNjZDVjZDAwMTAwMDk4MDE4MDA5MTk5YWI5YTAwMTRhMDk0NDg4YzA1MGNjMDBjMDA4MDA0ODhjYzAzODAwODhjYzAxMDAwNDAwODg4Yzk0Y2NkNWNkMTgwNTgwMDg5OTgwNDgwMTE4MDMxODAyMDAwOGE1MDMwMGMzMDBiMDAyMjMzMDAyMDAxNDgwMDA4OTRjY2Q1Y2QxOWI4NzM1NTczYTZlYTgwMDgwMDQ0MDA4NGMwY2QyNDExYzc1NmU2NTc4NzA2NTYzNzQ2NTY0MjA2MzZmNmU3Mzc0NzI3NTYzNzQ2ZjcyMjA2OTZlNjQ2NTc4MDAyMzAwMjMwMWUwMDEwMDE3NWMwMDJlM2M4Y2RjMzlhYWI5ZDM3NTQwMDI5MDAwMDBiODBiMTExOTgwMjk4MDE4MDEwMDA5MWJhYzMwMDIwMDEyMzU3NDI2MDQyMDAyNDQ2NjYwMDYwMDQwMDIwMWU0NDQ2NDY2NjAwMjAwMjAwODAwNjQ0NGE2NjZhYWU3YzAwODQwMTA0Yzk0Y2NkNWNkMTgwMTAwMDg5OWFiYTAwMDEzMzMwMDQwMDQzNTc0NDAwNjAwNDI2NjYwMDgwMDg2YWU4ODAwYzAwOGQ1ZDA4MDExMTk5ODA3MDAwOTExOTgwMzAwMTE4MDI4MDA4MDExYmIyNDk4OGRkNTk4MDcwMDA5MTE5OTgwMTgwMTAwMGI4MDIyMjMyMzMzMDAxMDAxMzMwMDcwMDQwMDMzNzY0OTMxMTEyOTk5YWFiOWYwMDIxMDAxMTMyMzIzMjUzMzM1NTczZTAwMjIwMDQyNjZhZTgwY2RkODAwMTliYTYwMDEwMDIzMzMwMGEwMDYzMzAwOTAwODAwMjMzMDA5MDA3MDAyMzMzMDA0MDA0MzU3NDQwMDYwMDQ2YWU4NDAwODg4YzhjYzAwNDAwNDAwYzg5NGNjZDU1Y2Y4MDA4OWJiMjQ5ODU0Y2NkNWNkMTliYWYzNTU3M2E2YWU4NDAwNDAwYzRkZDU5YWFiOWUzNTc0MjAwMjI2NjAwNDAwNDZhZTg4MDA0ODg4YzhjY2MwMDQwMDRjYzAxNDAwYzAwOGRkOTI0YzQ0NGE2NjZhYWU3YzAwODQwMDQ0YzhjOGM5NGNjZDVjZDE5Yjg3MDAxNDgwMDA0MDA4NGNkNWQwMTliYjAwMDMzNzUwMDAyMDA0NjYwMTA2NjAxYzAwZTAwNDY2MDFjMDBjMDA0NjY2MDA4MDA4NmFlODgwMGMwMDhkNWQwODAxMTExOTE5MTkxOTgwMzAwMTgwMDk5OTgwMDgwMDgwMTAwMTkxMTI5OTlhYWI5ZjAwMTEwMGExMzI1MzMzNTczNDY2MDEyMDBhMDAyMjY2NjAwODAwODAwNjZhZTg4MDA4NGNkNWQwMDAwOTk5ODAyMDAyMDAxOWFiYTIwMDIzNTU3M2E2YWU4NDAwNGMwMTQwMDg4OGM4Y2NjMDA0MDA0MDA4MDBjODg5NGNjZDU1Y2Y4MDA4ODAxMDk5YWJhMDM1NzQyMDAyNjY2MDA2MDA2MDA0NmFlODgwMDQ4OGNjMDY0MDA4OGNkZDc4MDA4MDExMTkxOTgwMDgwMDgwMTExMjk5OWFhYjlmMDAxMTAwNDEzMzU3NDA2YWFlNzRkNWQwODAwOTk4MDEwMDExYWJhMjAwMTM3NjI5MzExMTkxOTk4MDA4MDA4MDE4MDExMTEyOTk5YWFiOWYwMDIxNDgwMDA1NGNjZDVjZDE5YmFmMzU1NzNhNmFlODQwMDgwMDQ0ZGQ2OWFhYjllMzU3NDIwMDQyNjY2MDA2MDA2NmFlODgwMDgwMDQ4ODhjOGNjYzAwNDAwNDAxMDAwODg4OTRjY2Q1NWNmODAxMDgwMDg5OTk4MDE4MDE5YWJhMjAwMjMzMDA1MDAxMzU3NDIwMDQ0NDY0NjQ2NDY0NjY2MDA0MDA0MDAyMDBjNDRhNjY2YWFlN2MwMDQ1MjAwMDE1MzMzNTczNDY2ZWJjZDU1Y2U5YWJhMTAwMTAwNDEzNzVhNmFhZTc4ZDVkMDgwMDg5OTgwMTAwMTFhYmEyMDAxMjIyNTMzMzU1NzNlMDAyMjkwMDAwYTk5OWFiOWEzMzc1ZTZhYWU3NGQ1ZDA4MDA4MDI4OTk4MDEwMDExYmFiMzU1NzNjNmFlODQwMDQ0Y2NjMDBjMDBjMDA4ZDVkMTAwMDk4MDIwMDExODAyMDAwOTFhYmExMzAxMDAwMTIzNTc0MjYwMjAwMDJlMDVjMzkxMjk5OWFiOWEwMDIxNDk4NTRjZDVjZTAwMDhiMTExOTE5ODA3OTgwMjAwMTkxOWJhZjAwMTAwMjMwMGYwMDEyMzc1ODYwMDQwMDI0NmFlODRjMDA4MDA0OGQ1ZDExODAxMDAwOTFhYmEyMzAwMjAwMTIzNTc0NDYwMDQwMDI0NmFlODhjMDA4MDA0OGQ1ZDExODAxMDAwOTFhYmEyMzAwMjAwMTIzNTc0NDYwMDQwMDI0NmFlODhjMDA4MDA0OGQ1NWNmMWJhYTAwMTIyMzIzMzMwMDEwMDEwMDMwMDIyMjI1MzMzNTU3M2UwMDQyOTQwNTRjY2Q1Y2QxODAwOWFiYTEwMDIxNGEyMjY2NjAwNjAwNjZhZTg4MDA4MDA0MDA1ZDQ5Mjk5YWI5YzAwMTE2MDAxMjAwMTFcIik7XHJcblxyXG4gICAgICBjb25zdCBnYW1lUmV3YXJkID0gbmV3IEdhbWVSZXdhcmQoKTtcclxuXHJcbiAgICAgIC8vIENvbXBpbGUgdGhlIHZlc3RpbmcgdmFsaWRhdG9yXHJcbiAgICAgIGNvbnN0IGNvbXBpbGVkUHJvZ3JhbSA9IGdhbWVSZXdhcmQuY29tcGlsZShvcHRpbWl6ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiV2FsbGV0IGFkZHJlc3M6IFwiICsgYmVuZWZpdGlhcnkpXHJcbiAgICAgIGNvbnN0IHNjcmlwdEFkZHJlc3MgPSBBZGRyZXNzLmZyb21IYXNoZXMoY29tcGlsZWRQcm9ncmFtLnZhbGlkYXRvckhhc2gpXHJcbiAgICBcclxuICAgICAgY29uc29sZS5sb2coc2NyaXB0QWRkcmVzcy50b0JlY2gzMigpKTtcclxuICAgICAgY29uc29sZS5sb2coXCJTY3JpcHQgQWRkcmVzczpcIiArIHNjcmlwdEFkZHJlc3MpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmRpcihzY3JpcHRBZGRyZXNzLCB7IGRlcHRoOiBudWxsIH0pO1xyXG5cclxuICAgICAgY29uc3Qgc29ydGVkVXR4b3MgPSBhd2FpdCBmZXRjaFV0eG9zKHNjcmlwdEFkZHJlc3MudG9CZWNoMzIoKSlcclxuXHJcbiAgICAgIGNvbnN0IENMQUlNX1dJTkRPVyA9IDIwOyAvLyAyMCBzZWNvbmRzIFxyXG5cclxuICAgICAgY29uc3QgcG9zaXRpb25JbkN5Y2xlID0gY2FsY3VsYXRlQ291bnRkb3duKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicG9zaXRpb25JbkN5Y2xlXCIgKyBwb3NpdGlvbkluQ3ljbGUpO1xyXG4gICAgICB3aW5kb3cub25lcnJvciA9ICgpID0+IHBvc2l0aW9uSW5DeWNsZSA8IENMQUlNX1dJTkRPVztcclxuICAgICAgLy9jb25zdCBkeW5hbWljUmV3YXJkID0gY2FsY3VsYXRlUmV3YXJkKE51bWJlcihyZW1haW5pbmdTdXBwbHkpLCBUT1RBTF9TVVBQTFksIEJBU0VfUkVXQVJEKTtcclxuICAgICAgY29uc3QgdGVzdFZhbHVlQmVuZWZpdGlhcnk9IG5ldyBBc3NldHMoW1thc3NldENsYXNzLCBCaWdJbnQoc29ydGVkVXR4b3MuZHluYW1pY1Jld2FyZCldXSk7XHJcbiAgICAgIFxyXG4gICAgICAvL2NvbnN0IHRvdGFsQW1vdW50VXR4byA9IGdldFRva2VuQW1vdW50RnJvbVV0eG9zKHNvcnRlZFV0eG9zLnNlbGVjdGVkLCBhc3NldENsYXNzKTtcclxuICAgICAgY29uc3QgYW1vdW50VG9TZW5kQmFjayA9IEJpZ0ludChzb3J0ZWRVdHhvcy50b3RhbEFtb3VudCkgLSBCaWdJbnQoc29ydGVkVXR4b3MuZHluYW1pY1Jld2FyZCk7XHJcblxyXG4gICAgICBjb25zdCBmaXJzdFBhcnRUb1NlbmRCYWNrID0gYW1vdW50VG9TZW5kQmFjayAvIDJuOyAvLyBGaXJzdCBwYXJ0IGlzIGhhbGYgb2YgdGhlIHRvdGFsIGFtb3VudFxyXG4gICAgICBjb25zdCBzZWNvbmRQYXJ0VG9TZW5kQmFjayA9IGFtb3VudFRvU2VuZEJhY2sgLSBmaXJzdFBhcnRUb1NlbmRCYWNrOyAvLyBTZWNvbmQgcGFydCBpcyB0aGUgcmVtYWluZGVyXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRmlyc3QgXCIgKyBmaXJzdFBhcnRUb1NlbmRCYWNrKVxyXG4gICAgICBjb25zb2xlLmxvZyhcIlNldm9uZCBcIiArIHNlY29uZFBhcnRUb1NlbmRCYWNrKVxyXG4gICAgICBjb25zb2xlLmxvZyhzb3J0ZWRVdHhvcy5keW5hbWljUmV3YXJkKVxyXG5cclxuICAgICAgY29uc3QgdmFsdWVDb250cmFjdDE9IG5ldyBBc3NldHMoW1thc3NldENsYXNzLCBmaXJzdFBhcnRUb1NlbmRCYWNrXV0pO1xyXG4gICAgICBjb25zdCB2YWx1ZUNvbnRyYWN0Mj0gbmV3IEFzc2V0cyhbW2Fzc2V0Q2xhc3MsIHNlY29uZFBhcnRUb1NlbmRCYWNrXV0pO1xyXG5cclxuXHJcbiAgICAgIGNvbnN0IGdhbWVEYXR1bSA9IG5ldyBnYW1lUmV3YXJkLnR5cGVzLkRhdHVtKFxyXG4gICAgICAgIGJlbmVmaXRpYXJ5LnB1YktleUhhc2gsXHJcbiAgICAgIClcclxuXHJcbiAgICAgICAvLyBDcmVhdGUgdGhlIHZlc3RpbmcgY2xhaW0gcmVkZWVtZXJcclxuICAgICAgIGNvbnN0IHJlZGVlbWJlciA9IChuZXcgZ2FtZVJld2FyZC50eXBlcy5SZWRlZW1lci5DbGFpbShiZW5lZml0aWFyeS5wdWJLZXlIYXNoKSlcclxuICAgICAgIC5fdG9VcGxjRGF0YSgpO1xyXG4gICAgXHJcbiAgICAgIC8vY29uc29sZS5sb2coZmlsdGVyZWRVdHhvcyk7XHJcbiAgICAgIGNvbnN0IHR4ID0gbmV3IFR4KCk7XHJcblxyXG4gICAgICAvL3R4LmFkZElucHV0cyh1dHhvc1swXSk7XHJcbiAgICAgIHR4LmFkZElucHV0cyhzb3J0ZWRVdHhvcy5zZWxlY3RlZCwgcmVkZWVtYmVyKTtcclxuICAgICAgdHguYXR0YWNoU2NyaXB0KGNvbXBpbGVkUHJvZ3JhbSk7XHJcblxyXG4gICAgICB2YXIgdXNlckNsYWltT3V0cHV0ID0gbmV3IFR4T3V0cHV0KFxyXG4gICAgICAgIGJlbmVmaXRpYXJ5LFxyXG4gICAgICAgIG5ldyBWYWx1ZSh1bmRlZmluZWQsIHRlc3RWYWx1ZUJlbmVmaXRpYXJ5KSk7XHJcblxyXG4gICAgICB0eC5hZGRPdXRwdXQodXNlckNsYWltT3V0cHV0KTtcclxuXHJcbiAgICBcclxuICAgIC8vU2hpaWl0LCBmaXguIFNvbWVvbmUgY291bGQgcmVkaXJlZHQgdGhlIHJlc3Qgb2YgdGhlIHRva2Vuc1xyXG4gICAgLy8gY29uc3QgYWRkcmVzc1N0ciA9IFwiYWRkcl90ZXN0MXFyYXJxaG1rbG5od2N3M3Ewem02c2dtM2czbDdwdWEweTM2c3FsOWs1cnU4ZHN1Y2dsc2tlZDVmNXlyY2Y5ZTl4Z3hqZ210N3hrNTJrbmg4aDBkZ2F5YzAwYXJxbGg3ZzYwXCI7XHJcbiAgICAvLyBjb25zdCBhZGRyZXNzID0gQWRkcmVzcy5mcm9tQmVjaDMyKGFkZHJlc3NTdHIpO1xyXG4gICAgLy8gdHguYWRkT3V0cHV0KG5ldyBUeE91dHB1dChcclxuICAgIC8vICAgYWRkcmVzcyxcclxuICAgIC8vICAgbmV3IFZhbHVlKHVuZGVmaW5lZCwgdGVzdFZhbHVlQ29udHJhY3QpIC8vIFRoZSBhbW91bnQgYmVpbmcgY2xhaW1lZFxyXG4gICAgLy8gKSk7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBBREEgaW4gdGhlIHNlbGVjdGVkIHNjcmlwdCBpbnB1dHNcclxuICAgIGxldCB0b3RhbEFkYUluSW5wdXRzID0gQmlnSW50KDApO1xyXG4gICAgc29ydGVkVXR4b3Muc2VsZWN0ZWQuZm9yRWFjaCh1dHhvID0+IHtcclxuICAgICAgICB0b3RhbEFkYUluSW5wdXRzICs9IEJpZ0ludCh1dHhvLm91dHB1dC52YWx1ZS5sb3ZlbGFjZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEaXN0cmlidXRlIEFEQSBlcXVhbGx5IChvciBhcyByZXF1aXJlZCkgYW1vbmcgc2NyaXB0IG91dHB1dHNcclxuICAgIGNvbnN0IGFkYVBlclNjcmlwdE91dHB1dCA9IHRvdGFsQWRhSW5JbnB1dHMgLyAybjsgLy8gQXNzdW1pbmcgdHdvIHNjcmlwdCBvdXRwdXRzXHJcblxyXG4gICAgaWYgKGFtb3VudFRvU2VuZEJhY2sgIT0gQmlnSW50KDApKXtcclxuICAgICAgdmFyIHNjcmlwdFV0eG8xID1uZXcgVHhPdXRwdXQoXHJcbiAgICAgICAgc2NyaXB0QWRkcmVzcyxcclxuICAgICAgICBuZXcgVmFsdWUoYWRhUGVyU2NyaXB0T3V0cHV0LCB2YWx1ZUNvbnRyYWN0MSksICAvLyBSZW1haW5pbmcgdHJlYXN1cnkgdG9rZW5zXHJcbiAgICAgICAgRGF0dW0uaW5saW5lKGdhbWVEYXR1bSkgLy8gQ29udHJhY3QgcmVxdWlyZXMgZGF0dW1cclxuICAgICAgICk7XHJcblxyXG4gICAgICAgdHguYWRkT3V0cHV0KHNjcmlwdFV0eG8xKTtcclxuXHJcbiAgICAgIHZhciBzY3JpcHRVdHhvMiA9IG5ldyBUeE91dHB1dChcclxuICAgICAgICBzY3JpcHRBZGRyZXNzLFxyXG4gICAgICAgIG5ldyBWYWx1ZSh0b3RhbEFkYUluSW5wdXRzIC0gYWRhUGVyU2NyaXB0T3V0cHV0LCB2YWx1ZUNvbnRyYWN0MiksICAvLyBSZW1haW5pbmcgdHJlYXN1cnkgdG9rZW5zXHJcbiAgICAgICAgRGF0dW0uaW5saW5lKGdhbWVEYXR1bSkgLy8gQ29udHJhY3QgcmVxdWlyZXMgZGF0dW1cclxuICAgICAgICk7XHJcbiAgICBcclxuICAgICAgIHR4LmFkZE91dHB1dChzY3JpcHRVdHhvMik7XHJcbiAgICB9ICBcclxuXHJcbiAgICAgIC8vdmFyIGlucHV0RmVlcyA9IGF3YWl0IHdhbGxldEhlbHBlci5waWNrVXR4b3MobmV3IFZhbHVlKHRva2VuQW1vdW50RmVlcykpO1xyXG4gICAgICBcclxuICAgICAgLy90eC5hZGRJbnB1dHMoaW5wdXRGZWVzWzBdKTtcclxuICAgICAgY29uc29sZS5sb2coXCJXZSBhdHRhdGNoZWQgZXZlcnl0aGluZyFcIilcclxuXHJcbiAgICAgIFxyXG5cclxuICAgICAgYXdhaXQgdHguZmluYWxpemUobmV0d29ya1BhcmFtcywgYmVuZWZpdGlhcnksIHV0eG9zKTtcclxuICAgICAgY29uc29sZS5sb2coXCJkYWxpIGZpbmFsaXppcmFobWU/XCIpXHJcbiAgICAgIC8vIFNpZ24gdGhlIHVuc2lnbmVkIHR4IHRvIGdldCB0aGUgd2l0bmVzc1xyXG4gICAgICBjb25zdCBzaWduYXR1cmVzID0gYXdhaXQgY2lwMzBXYWxsZXRBUEkuc2lnblR4KHR4KTtcclxuICAgICAgdHguYWRkU2lnbmF0dXJlcyhzaWduYXR1cmVzKTtcclxuICAgICAgY29uc29sZS5sb2coXCJEYWxpIHEgc2lnbmlyYWhtZT9cIilcclxuXHJcbiAgICAgIGNvbnN0IHR4SGFzaCA9IGF3YWl0IGNpcDMwV2FsbGV0QVBJLnN1Ym1pdFR4KHR4KTtcclxuXHJcbiAgICAgIHNldFR4KHsgdHhJZDogdHhIYXNoLmhleCB9KTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJzdWJtaXQgdHggZmFpbGVkXCIsIGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyOyBcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmQod2FsbGV0QVBJOiBhbnksIHNldElzTG9hZGluZzogKHZhbDogYm9vbGVhbikgPT4gdm9pZCwgc2V0VHg6ICh2YWw6IHt0eElkOiBzdHJpbmd9KSA9PiB2b2lkKSB7XHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcblxyXG4gICAgaWYgKCF3YWxsZXRBUEkpIHtcclxuICAgICAgdGhyb3cgY29uc29sZS5lcnJvcihcIndhbGxldEFQSSBpcyBub3Qgc2V0XCIpO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2lwMzBXYWxsZXRBUEkgPSBuZXcgQ2lwMzBXYWxsZXQod2FsbGV0QVBJKTtcclxuICAgICAgLy8gY29uc3QgYmxvY2tmcm9zdCA9IG5ldyBCbG9ja0Zyb3N0SVBGUyh7XHJcbiAgICAgIC8vICAgbmV0d29yazogbmV0d29yayxcclxuICAgICAgLy8gICBwcm9qZWN0SWQ6IFwicHJlcHJvZEpFeE8wTUFNUmdmcFh6OUlsNElxQjJ1OWRkb3lsWkJUXCIsXHJcbiAgICAgIC8vIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImdtbW1cIilcclxuXHJcbiAgICAgIGNvbnN0IHdhbGxldEhlbHBlciA9IG5ldyBXYWxsZXRIZWxwZXIoY2lwMzBXYWxsZXRBUEkpO1xyXG5cclxuICAgICAgY29uc3QgcG9saWN5SWQgPSBcImEzODc5NTk0OTI1ZTJhYjE3MGVkMGMzNDIwNGQ4NDc2NTQxMWFkMjNlNDNlOTg3NzFkZDVhNmQyXCI7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSBCdWZmZXIuZnJvbShcIkJFUlRcIiwgJ3V0ZjgnKS50b1N0cmluZygnaGV4Jyk7XHJcblxyXG4gICAgICBjb25zdCBtcGggPSBNaW50aW5nUG9saWN5SGFzaC5mcm9tSGV4KHBvbGljeUlkKTtcclxuXHJcbiAgICAgIGNvbnN0IGFzc2V0Q2xhc3MgPSBuZXcgQXNzZXRDbGFzcyh7XHJcbiAgICAgICAgbXBoOiBtcGgsIC8vIFlvdXIgcG9saWN5IGhhc2hcclxuICAgICAgICB0b2tlbk5hbWU6IG5hbWUvLyBDb252ZXJ0IHRvIGhleCBzdHJpbmdcclxuICAgICAgfSk7IFxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhhc3NldENsYXNzKVxyXG5cclxuICAgICAgY29uc3QgbWluQWRhIDogbnVtYmVyID0gMV8wMDBfMDAwOyAvLyBtaW5pbXVtIGxvdmVsYWNlIHRvIHNlbmRcclxuICAgICAgY29uc3QgbWluQWRhVmFsID0gbmV3IFZhbHVlKEJpZ0ludChtaW5BZGEpKTtcclxuXHJcbiAgICAgIGNvbnN0IHRlc3RWYWx1ZVNjcmlwdCA9IG5ldyBBc3NldHMoW1thc3NldENsYXNzLCBCaWdJbnQoMTI1NTUwKV1dKTtcclxuXHJcbiAgICAgIC8vIEdldCB3YWxsZXQgVVRYT3NcclxuICAgICAgY29uc3QgdXR4b3MgPSBhd2FpdCB3YWxsZXRIZWxwZXIucGlja1V0eG9zKG5ldyBWYWx1ZSh1bmRlZmluZWQsIHRlc3RWYWx1ZVNjcmlwdCkpO1xyXG4gICAgICBjb25zb2xlLmxvZyh1dHhvcyk7XHJcblxyXG4gICAgICAvLyBHZXQgY2hhbmdlIGFkZHJlc3NcclxuICAgICAgY29uc3QgYmVuZWZpdGlhcnkgPSBhd2FpdCB3YWxsZXRIZWxwZXIuY2hhbmdlQWRkcmVzcztcclxuICAgICAgLy8gTG9hZCBpbiB0aGUgdmVzdGluZyB2YWxpZGF0b3Igc2NyaXB0IChwcm9ncmFtKVxyXG5cclxuICAgICAgY29uc3QgZ2FtZVJld2FyZCA9IG5ldyBHYW1lUmV3YXJkKCk7XHJcblxyXG4gICAgICAvLyBDb21waWxlIHRoZSB2ZXN0aW5nIHZhbGlkYXRvclxyXG4gICAgICBjb25zdCBjb21waWxlZFByb2dyYW0gPSBnYW1lUmV3YXJkLmNvbXBpbGUob3B0aW1pemUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIldhbGxldCBhZGRyZXNzOiBcIiArIGJlbmVmaXRpYXJ5KVxyXG4gICAgICBjb25zdCBzY3JpcHRBZGRyZXNzID0gQWRkcmVzcy5mcm9tSGFzaGVzKGNvbXBpbGVkUHJvZ3JhbS52YWxpZGF0b3JIYXNoKVxyXG4gICAgXHJcbiAgICAgICAgLy9yZW1vdmVcclxuICAgICAgY29uc29sZS5sb2coc2NyaXB0QWRkcmVzcy50b0JlY2gzMigpKTtcclxuICAgICAgY29uc29sZS5sb2coXCJTY3JpcHQgQWRkcmVzczpcIiArIHNjcmlwdEFkZHJlc3MpXHJcbiAgICAgIFxyXG4gICAgICAvLyBDb25zdHJ1Y3QgdGhlIHZlc3RpbmcgZGF0dW1cclxuICAgICAgY29uc3QgZ2FtZURhdHVtID0gbmV3IGdhbWVSZXdhcmQudHlwZXMuRGF0dW0oXHJcbiAgICAgICAgYmVuZWZpdGlhcnkucHViS2V5SGFzaCxcclxuICAgICAgKVxyXG4gICAgXHJcbiAgICAvL2NvbnN0IHJlZGVlbWJlciA9IChuZXcgZ2FtZVJld2FyZC50eXBlcy5SZWRlZW1lci5DbGFpbSgpKS5fdG9VcGxjRGF0YSgpO1xyXG4gICAgXHJcbiAgICAgIGNvbnN0IHR4ID0gbmV3IFR4KCk7XHJcbiAgICAgIHR4LmFkZElucHV0cyh1dHhvc1swXSk7XHJcbiAgICAgIHR4LmFkZE91dHB1dChuZXcgVHhPdXRwdXQoXHJcbiAgICAgICAgc2NyaXB0QWRkcmVzcyxcclxuICAgICAgICBuZXcgVmFsdWUodW5kZWZpbmVkLCB0ZXN0VmFsdWVTY3JpcHQpLFxyXG4gICAgICAgIERhdHVtLmlubGluZShnYW1lRGF0dW0pXHJcbiAgICAgICkpO1xyXG5cclxuICAgICAgLy8gdHguYWRkT3V0cHV0KG5ldyBUeE91dHB1dChcclxuICAgICAgLy8gICBiZW5lZml0aWFyeSxcclxuICAgICAgLy8gICBtaW5BZGFWYWwsXHJcbiAgICAgIC8vICkpO1xyXG4gICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiV2UgYXR0YXRjaGVkIGV2ZXJ5dGhpbmchXCIpXHJcblxyXG4gICAgICAvLyBSZWFkIGluIHRoZSBuZXR3b3JrIHBhcmFtZXRlciBmaWxlXHJcbiAgICAgIGNvbnN0IG5ldHdvcmtQYXJhbXNKc29uID0gYXdhaXQgZ2V0TmV0d29ya1BhcmFtcyhuZXR3b3JrKTtcclxuICAgICAgY29uc3QgbmV0d29ya1BhcmFtcyA9IG5ldyBOZXR3b3JrUGFyYW1zKG5ldHdvcmtQYXJhbXNKc29uKTtcclxuXHJcbiAgICAgIC8vIFNlbmQgYW55IGNoYW5nZSBiYWNrIHRvIHRoZSBidXllclxyXG4gICAgICBhd2FpdCB0eC5maW5hbGl6ZShuZXR3b3JrUGFyYW1zLCBiZW5lZml0aWFyeSwgdXR4b3NbMV0pO1xyXG5cclxuICAgICAgLy8gU2lnbiB0aGUgdW5zaWduZWQgdHggdG8gZ2V0IHRoZSB3aXRuZXNzXHJcbiAgICAgIGNvbnN0IHNpZ25hdHVyZXMgPSBhd2FpdCBjaXAzMFdhbGxldEFQSS5zaWduVHgodHgpO1xyXG4gICAgICB0eC5hZGRTaWduYXR1cmVzKHNpZ25hdHVyZXMpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coXCJzaWduZWRcIik7XHJcbiAgICAgIC8vIFN1Ym1pdCB0aGUgc2lnbmVkIHR4XHJcbiAgICAgIGNvbnN0IHR4SGFzaCA9IGF3YWl0IGNpcDMwV2FsbGV0QVBJLnN1Ym1pdFR4KHR4KTtcclxuXHJcbiAgICAgIHNldFR4KHsgdHhJZDogdHhIYXNoLmhleCB9KTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHRocm93IGNvbnNvbGUuZXJyb3IoXCJzdWJtaXQgdHggZmFpbGVkXCIsIGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG4gICAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hVdHhvcyhzY3JpcHRBZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPHsgc2VsZWN0ZWQ6IFR4SW5wdXRbXTsgdG90YWxBbW91bnQ6IGJpZ2ludCwgZHluYW1pY1Jld2FyZDogYmlnaW50IH0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZ2V0VXR4b3NgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzY3JpcHRBZGRyZXNzfSksXHJcbiAgICB9KTtcclxuICBcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7IC8vIFJhdyBKU09OIGFycmF5IGZyb20gYmFja2VuZFxyXG4gIFxyXG4gICAgLy8gYENvbnZlcnQgSlNPTiBiYWNrIHRvIFR4SW5wdXQgb2JqZWN0c1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRVdHhvcyA9IGRhdGEuc2VsZWN0ZWQubWFwKCh1dHhvOiBhbnkpID0+IFR4SW5wdXQuZnJvbUZ1bGxDYm9yKHV0eG8pKTtcclxuICAgIGNvbnN0IGR5bmFtaWNSZXdhcmQ6IGJpZ2ludCA9IEJpZ0ludChkYXRhLmR5bmFtaWNSZXdhcmQpO1xyXG4gICAgY29uc3QgdG90YWxBbW91bnQ6IGJpZ2ludCA9IEJpZ0ludChkYXRhLnRvdGFsQW1vdW50KTtcclxuICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWRVdHhvc1wiKyBzZWxlY3RlZFV0eG9zKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZHluYW1pY1Jld2FyZFwiICsgZHluYW1pY1Jld2FyZCk7XHJcbiAgICBjb25zb2xlLmxvZyhcInRvdGFsQW1vdW50XCIrIHRvdGFsQW1vdW50KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWRVdHhvcyxcclxuICAgICAgdG90YWxBbW91bnQ6IHRvdGFsQW1vdW50LFxyXG4gICAgICBkeW5hbWljUmV3YXJkOiBkeW5hbWljUmV3YXJkLFxyXG4gICAgfTtcclxuICB9XHJcbiAgIl0sIm5hbWVzIjpbIk5ldHdvcmtQYXJhbXMiLCJWYWx1ZSIsIlR4T3V0cHV0IiwiVHgiLCJUeElucHV0IiwiQ2lwMzBXYWxsZXQiLCJEYXR1bSIsIkFzc2V0cyIsIldhbGxldEhlbHBlciIsIk1pbnRpbmdQb2xpY3lIYXNoIiwiUHJvZ3JhbSIsIkFzc2V0Q2xhc3MiLCJBZGRyZXNzIiwibmV0d29yayIsImdldE5ldHdvcmtQYXJhbXMiLCJHYW1lUmV3YXJkIiwib3B0aW1pemUiLCJjYWxjdWxhdGVDb3VudGRvd24iLCJUaW1lQmVnaW5Db250cmFjdCIsIlRpbWVOb3ciLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiQ1lDTEVfRFVSQVRJT04iLCJvZmZzZXRJbk1zIiwiZWxhcHNlZFRpbWUiLCJlbGFwc2VkVGltZUluU2Vjb25kcyIsInBvc2l0aW9uSW5DeWNsZSIsImNsYWltVG9rZW5zIiwid2FsbGV0QVBJIiwic2V0SXNMb2FkaW5nIiwic2V0VHgiLCJFcnJvciIsImNpcDMwV2FsbGV0QVBJIiwid2FsbGV0SGVscGVyIiwibmV0d29ya1BhcmFtc0pzb24iLCJuZXR3b3JrUGFyYW1zIiwicG9saWN5SWQiLCJuYW1lIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwibXBoIiwiZnJvbUhleCIsImFzc2V0Q2xhc3MiLCJ0b2tlbk5hbWUiLCJjb25zb2xlIiwibG9nIiwidXR4b3MiLCJnZXRVdHhvcyIsImJlbmVmaXRpYXJ5IiwiY2hhbmdlQWRkcmVzcyIsInByb2dyYW0iLCJuZXciLCJnYW1lUmV3YXJkIiwiY29tcGlsZWRQcm9ncmFtIiwiY29tcGlsZSIsInNjcmlwdEFkZHJlc3MiLCJmcm9tSGFzaGVzIiwidmFsaWRhdG9ySGFzaCIsInRvQmVjaDMyIiwiZGlyIiwiZGVwdGgiLCJzb3J0ZWRVdHhvcyIsImZldGNoVXR4b3MiLCJDTEFJTV9XSU5ET1ciLCJ3aW5kb3ciLCJvbmVycm9yIiwidGVzdFZhbHVlQmVuZWZpdGlhcnkiLCJCaWdJbnQiLCJkeW5hbWljUmV3YXJkIiwiYW1vdW50VG9TZW5kQmFjayIsInRvdGFsQW1vdW50IiwiZmlyc3RQYXJ0VG9TZW5kQmFjayIsInNlY29uZFBhcnRUb1NlbmRCYWNrIiwidmFsdWVDb250cmFjdDEiLCJ2YWx1ZUNvbnRyYWN0MiIsImdhbWVEYXR1bSIsInR5cGVzIiwicHViS2V5SGFzaCIsInJlZGVlbWJlciIsIlJlZGVlbWVyIiwiQ2xhaW0iLCJfdG9VcGxjRGF0YSIsInR4IiwiYWRkSW5wdXRzIiwic2VsZWN0ZWQiLCJhdHRhY2hTY3JpcHQiLCJ1c2VyQ2xhaW1PdXRwdXQiLCJ1bmRlZmluZWQiLCJhZGRPdXRwdXQiLCJ0b3RhbEFkYUluSW5wdXRzIiwiZm9yRWFjaCIsInV0eG8iLCJvdXRwdXQiLCJ2YWx1ZSIsImxvdmVsYWNlIiwiYWRhUGVyU2NyaXB0T3V0cHV0Iiwic2NyaXB0VXR4bzEiLCJpbmxpbmUiLCJzY3JpcHRVdHhvMiIsImZpbmFsaXplIiwic2lnbmF0dXJlcyIsInNpZ25UeCIsImFkZFNpZ25hdHVyZXMiLCJ0eEhhc2giLCJzdWJtaXRUeCIsInR4SWQiLCJoZXgiLCJlcnIiLCJlcnJvciIsInNlbmQiLCJtaW5BZGEiLCJtaW5BZGFWYWwiLCJ0ZXN0VmFsdWVTY3JpcHQiLCJwaWNrVXR4b3MiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImpzb24iLCJzZWxlY3RlZFV0eG9zIiwibWFwIiwiZnJvbUZ1bGxDYm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/walletActions.ts\n"));

/***/ })

});