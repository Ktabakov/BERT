"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./public/useFlappyBirdGame.ts":
/*!*************************************!*\
  !*** ./public/useFlappyBirdGame.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFlappyBirdGame: function() { return /* binding */ useFlappyBirdGame; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/** Constants / configuration */ const CANVAS_WIDTH = 360;\nconst CANVAS_HEIGHT = 640;\nconst BIRD_X = 80; // Bird's fixed X position\nconst BIRD_SIZE = 50; // Bird width/height\nconst GRAVITY = 0.25; // Bird falls each frame\nconst FLAP = -7.5; // Bird jump velocity\nconst PIPE_GAP = 160; // Vertical gap\nconst PIPE_WIDTH = 90; // Pipe width\nconst PIPE_SPEED = 2; // Movement speed\nconst PIPE_SPAWN_INTERVAL = 100; // frames: ~1.66s @60fps\n/** \r\n * Assets you have: redbird-upflap.png, midflap, downflap, \r\n * background-day.png, TopTiny.png, BottomTiny.png, CoinTiny.png\r\n * We'll keep the coin logic optional if you want, but let's simplify for now.\r\n */ function useFlappyBirdGame(canvasRef, isPaused, autoStart) {\n    const requestIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Stateful scores\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [currentScore, setCurrentScore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Bird position + velocity\n    const birdYRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const birdVelocityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Pipe array\n    const pipesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    // Track frames so we know when to spawn\n    const frameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // References for game over + started\n    const gameOverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const gameStartedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Bird images\n    const birdImages = [];\n    let backgroundImg;\n    let pipeTopImg;\n    let pipeBotImg;\n    if (true) {\n        // Bird frames (optional: up-mid-down)\n        const birdUp = new Image();\n        birdUp.src = \"/assets/redbird-upflap.png\";\n        const birdMid = new Image();\n        birdMid.src = \"/assets/redbird-midflap.png\";\n        const birdDown = new Image();\n        birdDown.src = \"/assets/redbird-downflap.png\";\n        birdImages.push(birdUp, birdMid, birdDown);\n        backgroundImg = new Image();\n        backgroundImg.src = \"/assets/background-day.png\";\n        pipeTopImg = new Image();\n        pipeTopImg.src = \"/assets/TopTiny.png\";\n        pipeBotImg = new Image();\n        pipeBotImg.src = \"/assets/BottomTiny.png\";\n    }\n    // Current bird frame index (0=up,1=mid,2=down)\n    const currentBirdFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(1);\n    // On mount, load high score\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const saved = localStorage.getItem(\"highScore\");\n        if (saved) setHighScore(parseInt(saved, 10));\n    }, []);\n    // The main effect that sets up + runs the game\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Initialize canvas size\n        canvas.width = CANVAS_WIDTH;\n        canvas.height = CANVAS_HEIGHT;\n        // 1) Reset function\n        function resetGame() {\n            birdYRef.current = CANVAS_HEIGHT / 3;\n            birdVelocityRef.current = 0;\n            pipesRef.current = [];\n            setCurrentScore(0);\n            gameOverRef.current = false;\n            gameStartedRef.current = false;\n            frameRef.current = 0;\n            currentBirdFrameRef.current = 1; // mid flap\n        }\n        // 2) Start the game\n        function startGame() {\n            resetGame();\n            gameStartedRef.current = true;\n            requestIdRef.current = requestAnimationFrame(loop);\n        }\n        // 3) KeyDown: space => flap or restart\n        function handleKeyDown(e) {\n            if (e.key === \" \") {\n                if (!gameStartedRef.current && !gameOverRef.current) {\n                    startGame();\n                } else if (gameOverRef.current) {\n                    // restart\n                    startGame();\n                } else {\n                    // flap\n                    birdVelocityRef.current = FLAP;\n                    flapAnimation();\n                }\n            }\n        }\n        window.addEventListener(\"keydown\", handleKeyDown);\n        // 4) Adjust on resize if you want\n        function handleResize() {\n            if (!canvas) return;\n            if (!ctx) return;\n            canvas.width = CANVAS_WIDTH;\n            canvas.height = CANVAS_HEIGHT;\n            if (!gameStartedRef.current && !gameOverRef.current) {\n                drawStartScreen(ctx);\n            }\n        }\n        window.addEventListener(\"resize\", handleResize);\n        // 5) Initialization\n        drawStartScreen(ctx);\n        // 6) The loop\n        function loop(timestamp) {\n            if (isPaused || !gameStartedRef.current) {\n                // If paused, just schedule the next frame\n                requestIdRef.current = requestAnimationFrame(loop);\n                return;\n            }\n            update();\n            draw(ctx);\n            if (!gameOverRef.current) {\n                requestIdRef.current = requestAnimationFrame(loop);\n            } else {\n                drawGameOverScreen(ctx);\n            }\n        }\n        // 7) Update logic\n        function update() {\n            frameRef.current++;\n            // Bird gravity\n            birdVelocityRef.current += GRAVITY;\n            birdYRef.current += birdVelocityRef.current;\n            // Spawn pipes every PIPE_SPAWN_INTERVAL frames\n            if (frameRef.current % PIPE_SPAWN_INTERVAL === 0) {\n                spawnPipe();\n            }\n            // Move pipes\n            for (const pipe of pipesRef.current){\n                pipe.x -= PIPE_SPEED;\n            }\n            // Remove offscreen\n            pipesRef.current = pipesRef.current.filter((p)=>p.x + PIPE_WIDTH > 0);\n            // Collision check\n            if (checkCollision()) {\n                gameOverRef.current = true;\n            }\n            // Scoring\n            for (const pipe of pipesRef.current){\n                if (!pipe.scored && pipe.x + PIPE_WIDTH < BIRD_X) {\n                    // +1 score\n                    setCurrentScore((prev)=>{\n                        const newScore = prev + 1;\n                        setHighScore((prevHigh)=>{\n                            const best = Math.max(prevHigh, newScore);\n                            localStorage.setItem(\"highScore\", best.toString());\n                            return best;\n                        });\n                        return newScore;\n                    });\n                    pipe.scored = true;\n                }\n            }\n        }\n        // 8) Draw\n        function draw(ctx) {\n            ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            // draw background\n            if (backgroundImg.complete) {\n                ctx.drawImage(backgroundImg, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            }\n            // draw pipes\n            for (const pipe of pipesRef.current){\n                const gapY = pipe.gapY;\n                const topHeight = gapY;\n                const bottomY = gapY + PIPE_GAP;\n                // top\n                ctx.drawImage(pipeTopImg, pipe.x, topHeight - pipeTopImg.height, PIPE_WIDTH, pipeTopImg.height);\n                // bottom\n                ctx.drawImage(pipeBotImg, pipe.x, bottomY, PIPE_WIDTH, pipeBotImg.height);\n            }\n            // draw bird\n            const currentBird = birdImages[currentBirdFrameRef.current] || birdImages[1];\n            if (currentBird.complete) {\n                ctx.drawImage(currentBird, BIRD_X, birdYRef.current, BIRD_SIZE, BIRD_SIZE);\n            }\n        }\n        // 9) Start screen\n        function drawStartScreen(ctx) {\n            ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            // background\n            if (backgroundImg.complete) {\n                ctx.drawImage(backgroundImg, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n            }\n            ctx.fillStyle = \"white\";\n            ctx.font = \"bold 24px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Press Space or Tap\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n        }\n        // 10) Game Over screen\n        function drawGameOverScreen(ctx) {\n            ctx.fillStyle = \"#ff3333\";\n            ctx.font = \"bold 36px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Game Over!\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 - 40);\n            ctx.fillStyle = \"white\";\n            ctx.font = \"bold 20px Arial\";\n            ctx.fillText(\"Press Space or Tap to Restart\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n        }\n        // 11) Spawn pipe\n        function spawnPipe() {\n            const gapY = Math.random() * (CANVAS_HEIGHT - PIPE_GAP - 100) + 50;\n            pipesRef.current.push({\n                x: CANVAS_WIDTH,\n                gapY,\n                scored: false\n            });\n        }\n        // 12) Collision check\n        function checkCollision() {\n            // bird outside canvas?\n            if (birdYRef.current < 0 || birdYRef.current + BIRD_SIZE > CANVAS_HEIGHT) {\n                return true;\n            }\n            // pipe collision\n            for (const pipe of pipesRef.current){\n                const topPipeBottom = pipe.gapY;\n                const bottomPipeTop = pipe.gapY + PIPE_GAP;\n                const birdRight = BIRD_X + BIRD_SIZE;\n                const pipeRight = pipe.x + PIPE_WIDTH;\n                // If horizontally overlapping\n                if (birdRight > pipe.x && BIRD_X < pipeRight) {\n                    // if bird is above gap or below gap\n                    if (birdYRef.current < topPipeBottom || birdYRef.current + BIRD_SIZE > bottomPipeTop) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        // 13) Bird flap animation\n        function flapAnimation() {\n            // Quick 3-frame cycle\n            currentBirdFrameRef.current = 0; // up\n            setTimeout(()=>{\n                currentBirdFrameRef.current = 1; // mid\n                setTimeout(()=>{\n                    currentBirdFrameRef.current = 2; // down\n                    setTimeout(()=>{\n                        currentBirdFrameRef.current = 1; // mid\n                    }, 150);\n                }, 150);\n            }, 150);\n        }\n        // 14) Cleanup\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"resize\", handleResize);\n            if (requestIdRef.current) cancelAnimationFrame(requestIdRef.current);\n        };\n    }, [\n        canvasRef,\n        isPaused,\n        autoStart\n    ]);\n    // We'll return a stable function for mobile clicks\n    const handleUserInput = ()=>{\n        // We'll dispatch a \"keydown\" event with key: \" \"\n        const spaceEvent = new KeyboardEvent(\"keydown\", {\n            key: \" \"\n        });\n        window.dispatchEvent(spaceEvent);\n    };\n    return {\n        highScore,\n        currentScore,\n        handleUserInput\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0V6RSxTQUFTc0IsT0FBTyxHQUFHZ0QsaUJBQ25CdEUsU0FBU3NCLE9BQU8sR0FBR3RDLFlBQVl1RixlQUMvQjt3QkFDQSxPQUFPO29CQUNUO2dCQUNGO1lBQ0Y7WUFDQSxPQUFPO1FBQ1Q7UUFFQSwwQkFBMEI7UUFDMUIsU0FBU3JDO1lBQ1Asc0JBQXNCO1lBQ3RCbEIsb0JBQW9CTSxPQUFPLEdBQUcsR0FBRyxLQUFLO1lBQ3RDb0QsV0FBVztnQkFDVDFELG9CQUFvQk0sT0FBTyxHQUFHLEdBQUcsTUFBTTtnQkFDdkNvRCxXQUFXO29CQUNUMUQsb0JBQW9CTSxPQUFPLEdBQUcsR0FBRyxPQUFPO29CQUN4Q29ELFdBQVc7d0JBQ1QxRCxvQkFBb0JNLE9BQU8sR0FBRyxHQUFHLE1BQU07b0JBQ3pDLEdBQUc7Z0JBQ0wsR0FBRztZQUNMLEdBQUc7UUFDTDtRQUVBLGNBQWM7UUFDZCxPQUFPO1lBQ0xhLE9BQU93QyxtQkFBbUIsQ0FBQyxXQUFXNUM7WUFDdENJLE9BQU93QyxtQkFBbUIsQ0FBQyxVQUFVdEM7WUFDckMsSUFBSTFDLGFBQWEyQixPQUFPLEVBQUVzRCxxQkFBcUJqRixhQUFhMkIsT0FBTztRQUNyRTtJQUNGLEdBQUc7UUFBQzlCO1FBQVdDO1FBQVVDO0tBQVU7SUFFbkMsbURBQW1EO0lBQ25ELE1BQU1tRixrQkFBa0I7UUFDdEIsaURBQWlEO1FBQ2pELE1BQU1DLGFBQWEsSUFBSUMsY0FBYyxXQUFXO1lBQUU5QyxLQUFLO1FBQUk7UUFDM0RFLE9BQU82QyxhQUFhLENBQUNGO0lBQ3ZCO0lBRUEsT0FBTztRQUNMbEY7UUFDQUU7UUFDQStFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wdWJsaWMvdXNlRmxhcHB5QmlyZEdhbWUudHM/NWM3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBQaXBlIHJlcHJlc2VudHMgYSBzaW5nbGUgdG9wK2JvdHRvbSBwaXBlIHBhaXIsXHJcbiAqIHdpdGggYSBnYXAgaW4gYmV0d2Vlbi5cclxuICovXHJcbmludGVyZmFjZSBQaXBlIHtcclxuICB4OiBudW1iZXI7XHJcbiAgZ2FwWTogbnVtYmVyOyAgICAvLyBUaGUgdG9wIFkgb2YgdGhlIGdhcFxyXG4gIHNjb3JlZDogYm9vbGVhbjsgLy8gV2hldGhlciB3ZSd2ZSBhbHJlYWR5IGFkZGVkICsxIHRvIHNjb3JlXHJcbn1cclxuXHJcbi8qKiBDb25zdGFudHMgLyBjb25maWd1cmF0aW9uICovXHJcbmNvbnN0IENBTlZBU19XSURUSCA9IDM2MDtcclxuY29uc3QgQ0FOVkFTX0hFSUdIVCA9IDY0MDtcclxuXHJcbmNvbnN0IEJJUkRfWCA9IDgwOyAgICAgICAgLy8gQmlyZCdzIGZpeGVkIFggcG9zaXRpb25cclxuY29uc3QgQklSRF9TSVpFID0gNTA7ICAgICAvLyBCaXJkIHdpZHRoL2hlaWdodFxyXG5jb25zdCBHUkFWSVRZID0gMC4yNTsgICAgIC8vIEJpcmQgZmFsbHMgZWFjaCBmcmFtZVxyXG5jb25zdCBGTEFQID0gLTcuNTsgICAgICAgIC8vIEJpcmQganVtcCB2ZWxvY2l0eVxyXG5jb25zdCBQSVBFX0dBUCA9IDE2MDsgICAgIC8vIFZlcnRpY2FsIGdhcFxyXG5jb25zdCBQSVBFX1dJRFRIID0gOTA7ICAgIC8vIFBpcGUgd2lkdGhcclxuY29uc3QgUElQRV9TUEVFRCA9IDI7ICAgICAvLyBNb3ZlbWVudCBzcGVlZFxyXG5jb25zdCBQSVBFX1NQQVdOX0lOVEVSVkFMID0gMTAwOyAvLyBmcmFtZXM6IH4xLjY2cyBANjBmcHNcclxuXHJcbi8qKiBcclxuICogQXNzZXRzIHlvdSBoYXZlOiByZWRiaXJkLXVwZmxhcC5wbmcsIG1pZGZsYXAsIGRvd25mbGFwLCBcclxuICogYmFja2dyb3VuZC1kYXkucG5nLCBUb3BUaW55LnBuZywgQm90dG9tVGlueS5wbmcsIENvaW5UaW55LnBuZ1xyXG4gKiBXZSdsbCBrZWVwIHRoZSBjb2luIGxvZ2ljIG9wdGlvbmFsIGlmIHlvdSB3YW50LCBidXQgbGV0J3Mgc2ltcGxpZnkgZm9yIG5vdy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VGbGFwcHlCaXJkR2FtZShcclxuICBjYW52YXNSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MQ2FudmFzRWxlbWVudD4sXHJcbiAgaXNQYXVzZWQ6IGJvb2xlYW4sXHJcbiAgYXV0b1N0YXJ0OiBib29sZWFuXHJcbikge1xyXG4gIGNvbnN0IHJlcXVlc3RJZFJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gU3RhdGVmdWwgc2NvcmVzXHJcbiAgY29uc3QgW2hpZ2hTY29yZSwgc2V0SGlnaFNjb3JlXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtjdXJyZW50U2NvcmUsIHNldEN1cnJlbnRTY29yZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgLy8gQmlyZCBwb3NpdGlvbiArIHZlbG9jaXR5XHJcbiAgY29uc3QgYmlyZFlSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuICBjb25zdCBiaXJkVmVsb2NpdHlSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuXHJcbiAgLy8gUGlwZSBhcnJheVxyXG4gIGNvbnN0IHBpcGVzUmVmID0gdXNlUmVmPFBpcGVbXT4oW10pO1xyXG4gIC8vIFRyYWNrIGZyYW1lcyBzbyB3ZSBrbm93IHdoZW4gdG8gc3Bhd25cclxuICBjb25zdCBmcmFtZVJlZiA9IHVzZVJlZjxudW1iZXI+KDApO1xyXG5cclxuICAvLyBSZWZlcmVuY2VzIGZvciBnYW1lIG92ZXIgKyBzdGFydGVkXHJcbiAgY29uc3QgZ2FtZU92ZXJSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IGdhbWVTdGFydGVkUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTtcclxuXHJcbiAgLy8gQmlyZCBpbWFnZXNcclxuICBjb25zdCBiaXJkSW1hZ2VzOiBIVE1MSW1hZ2VFbGVtZW50W10gPSBbXTtcclxuICBsZXQgYmFja2dyb3VuZEltZzogSFRNTEltYWdlRWxlbWVudDtcclxuICBsZXQgcGlwZVRvcEltZzogSFRNTEltYWdlRWxlbWVudDtcclxuICBsZXQgcGlwZUJvdEltZzogSFRNTEltYWdlRWxlbWVudDtcclxuXHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIC8vIEJpcmQgZnJhbWVzIChvcHRpb25hbDogdXAtbWlkLWRvd24pXHJcbiAgICBjb25zdCBiaXJkVXAgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGJpcmRVcC5zcmMgPSBcIi9hc3NldHMvcmVkYmlyZC11cGZsYXAucG5nXCI7XHJcbiAgICBjb25zdCBiaXJkTWlkID0gbmV3IEltYWdlKCk7XHJcbiAgICBiaXJkTWlkLnNyYyA9IFwiL2Fzc2V0cy9yZWRiaXJkLW1pZGZsYXAucG5nXCI7XHJcbiAgICBjb25zdCBiaXJkRG93biA9IG5ldyBJbWFnZSgpO1xyXG4gICAgYmlyZERvd24uc3JjID0gXCIvYXNzZXRzL3JlZGJpcmQtZG93bmZsYXAucG5nXCI7XHJcbiAgICBiaXJkSW1hZ2VzLnB1c2goYmlyZFVwLCBiaXJkTWlkLCBiaXJkRG93bik7XHJcblxyXG4gICAgYmFja2dyb3VuZEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgYmFja2dyb3VuZEltZy5zcmMgPSBcIi9hc3NldHMvYmFja2dyb3VuZC1kYXkucG5nXCI7XHJcblxyXG4gICAgcGlwZVRvcEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgcGlwZVRvcEltZy5zcmMgPSBcIi9hc3NldHMvVG9wVGlueS5wbmdcIjtcclxuXHJcbiAgICBwaXBlQm90SW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBwaXBlQm90SW1nLnNyYyA9IFwiL2Fzc2V0cy9Cb3R0b21UaW55LnBuZ1wiO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3VycmVudCBiaXJkIGZyYW1lIGluZGV4ICgwPXVwLDE9bWlkLDI9ZG93bilcclxuICBjb25zdCBjdXJyZW50QmlyZEZyYW1lUmVmID0gdXNlUmVmPG51bWJlcj4oMSk7XHJcblxyXG4gIC8vIE9uIG1vdW50LCBsb2FkIGhpZ2ggc2NvcmVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImhpZ2hTY29yZVwiKTtcclxuICAgIGlmIChzYXZlZCkgc2V0SGlnaFNjb3JlKHBhcnNlSW50KHNhdmVkLCAxMCkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gVGhlIG1haW4gZWZmZWN0IHRoYXQgc2V0cyB1cCArIHJ1bnMgdGhlIGdhbWVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSByZXR1cm47XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBjYW52YXMgc2l6ZVxyXG4gICAgY2FudmFzLndpZHRoID0gQ0FOVkFTX1dJRFRIO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IENBTlZBU19IRUlHSFQ7XHJcblxyXG4gICAgLy8gMSkgUmVzZXQgZnVuY3Rpb25cclxuICAgIGZ1bmN0aW9uIHJlc2V0R2FtZSgpIHtcclxuICAgICAgYmlyZFlSZWYuY3VycmVudCA9IENBTlZBU19IRUlHSFQgLyAzOyBcclxuICAgICAgYmlyZFZlbG9jaXR5UmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgICBwaXBlc1JlZi5jdXJyZW50ID0gW107XHJcbiAgICAgIHNldEN1cnJlbnRTY29yZSgwKTtcclxuICAgICAgZ2FtZU92ZXJSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBnYW1lU3RhcnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGZyYW1lUmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAxOyAvLyBtaWQgZmxhcFxyXG4gICAgfVxyXG5cclxuICAgIC8vIDIpIFN0YXJ0IHRoZSBnYW1lXHJcbiAgICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7XHJcbiAgICAgIHJlc2V0R2FtZSgpO1xyXG4gICAgICBnYW1lU3RhcnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgcmVxdWVzdElkUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMykgS2V5RG93bjogc3BhY2UgPT4gZmxhcCBvciByZXN0YXJ0XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgaWYgKGUua2V5ID09PSBcIiBcIikge1xyXG4gICAgICAgIGlmICghZ2FtZVN0YXJ0ZWRSZWYuY3VycmVudCAmJiAhZ2FtZU92ZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChnYW1lT3ZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAvLyByZXN0YXJ0XHJcbiAgICAgICAgICBzdGFydEdhbWUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gZmxhcFxyXG4gICAgICAgICAgYmlyZFZlbG9jaXR5UmVmLmN1cnJlbnQgPSBGTEFQO1xyXG4gICAgICAgICAgZmxhcEFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuXHJcbiAgICAvLyA0KSBBZGp1c3Qgb24gcmVzaXplIGlmIHlvdSB3YW50XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXNpemUoKSB7XHJcbiAgICAgIGlmICghY2FudmFzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgaWYgKCFjdHgpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICBjYW52YXMud2lkdGggPSBDQU5WQVNfV0lEVEg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfSEVJR0hUO1xyXG4gICAgICBpZiAoIWdhbWVTdGFydGVkUmVmLmN1cnJlbnQgJiYgIWdhbWVPdmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBkcmF3U3RhcnRTY3JlZW4oY3R4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuXHJcbiAgICAvLyA1KSBJbml0aWFsaXphdGlvblxyXG4gICAgZHJhd1N0YXJ0U2NyZWVuKGN0eCk7XHJcblxyXG4gICAgLy8gNikgVGhlIGxvb3BcclxuICAgIGZ1bmN0aW9uIGxvb3AodGltZXN0YW1wOiBudW1iZXIpIHtcclxuICAgICAgaWYgKGlzUGF1c2VkIHx8ICFnYW1lU3RhcnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgLy8gSWYgcGF1c2VkLCBqdXN0IHNjaGVkdWxlIHRoZSBuZXh0IGZyYW1lXHJcbiAgICAgICAgcmVxdWVzdElkUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB1cGRhdGUoKTtcclxuICAgICAgZHJhdyhjdHgpO1xyXG5cclxuICAgICAgaWYgKCFnYW1lT3ZlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgcmVxdWVzdElkUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZHJhd0dhbWVPdmVyU2NyZWVuKGN0eCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyA3KSBVcGRhdGUgbG9naWNcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgZnJhbWVSZWYuY3VycmVudCsrO1xyXG5cclxuICAgICAgLy8gQmlyZCBncmF2aXR5XHJcbiAgICAgIGJpcmRWZWxvY2l0eVJlZi5jdXJyZW50ICs9IEdSQVZJVFk7XHJcbiAgICAgIGJpcmRZUmVmLmN1cnJlbnQgKz0gYmlyZFZlbG9jaXR5UmVmLmN1cnJlbnQ7XHJcblxyXG4gICAgICAvLyBTcGF3biBwaXBlcyBldmVyeSBQSVBFX1NQQVdOX0lOVEVSVkFMIGZyYW1lc1xyXG4gICAgICBpZiAoZnJhbWVSZWYuY3VycmVudCAlIFBJUEVfU1BBV05fSU5URVJWQUwgPT09IDApIHtcclxuICAgICAgICBzcGF3blBpcGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTW92ZSBwaXBlc1xyXG4gICAgICBmb3IgKGNvbnN0IHBpcGUgb2YgcGlwZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHBpcGUueCAtPSBQSVBFX1NQRUVEO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgb2Zmc2NyZWVuXHJcbiAgICAgIHBpcGVzUmVmLmN1cnJlbnQgPSBwaXBlc1JlZi5jdXJyZW50LmZpbHRlcihcclxuICAgICAgICAocCkgPT4gcC54ICsgUElQRV9XSURUSCA+IDBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIENvbGxpc2lvbiBjaGVja1xyXG4gICAgICBpZiAoY2hlY2tDb2xsaXNpb24oKSkge1xyXG4gICAgICAgIGdhbWVPdmVyUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTY29yaW5nXHJcbiAgICAgIGZvciAoY29uc3QgcGlwZSBvZiBwaXBlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgaWYgKCFwaXBlLnNjb3JlZCAmJiBwaXBlLnggKyBQSVBFX1dJRFRIIDwgQklSRF9YKSB7XHJcbiAgICAgICAgICAvLyArMSBzY29yZVxyXG4gICAgICAgICAgc2V0Q3VycmVudFNjb3JlKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Njb3JlID0gcHJldiArIDE7XHJcbiAgICAgICAgICAgIHNldEhpZ2hTY29yZSgocHJldkhpZ2gpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBiZXN0ID0gTWF0aC5tYXgocHJldkhpZ2gsIG5ld1Njb3JlKTtcclxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImhpZ2hTY29yZVwiLCBiZXN0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBiZXN0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3JlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBwaXBlLnNjb3JlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gOCkgRHJhd1xyXG4gICAgZnVuY3Rpb24gZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVCk7XHJcblxyXG4gICAgICAvLyBkcmF3IGJhY2tncm91bmRcclxuICAgICAgaWYgKGJhY2tncm91bmRJbWcuY29tcGxldGUpIHtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGJhY2tncm91bmRJbWcsIDAsIDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGRyYXcgcGlwZXNcclxuICAgICAgZm9yIChjb25zdCBwaXBlIG9mIHBpcGVzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCBnYXBZID0gcGlwZS5nYXBZO1xyXG4gICAgICAgIGNvbnN0IHRvcEhlaWdodCA9IGdhcFk7XHJcbiAgICAgICAgY29uc3QgYm90dG9tWSA9IGdhcFkgKyBQSVBFX0dBUDtcclxuXHJcbiAgICAgICAgLy8gdG9wXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShcclxuICAgICAgICAgIHBpcGVUb3BJbWcsXHJcbiAgICAgICAgICBwaXBlLngsXHJcbiAgICAgICAgICB0b3BIZWlnaHQgLSBwaXBlVG9wSW1nLmhlaWdodCxcclxuICAgICAgICAgIFBJUEVfV0lEVEgsXHJcbiAgICAgICAgICBwaXBlVG9wSW1nLmhlaWdodFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIGJvdHRvbVxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgICBwaXBlQm90SW1nLFxyXG4gICAgICAgICAgcGlwZS54LFxyXG4gICAgICAgICAgYm90dG9tWSxcclxuICAgICAgICAgIFBJUEVfV0lEVEgsXHJcbiAgICAgICAgICBwaXBlQm90SW1nLmhlaWdodFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGRyYXcgYmlyZFxyXG4gICAgICBjb25zdCBjdXJyZW50QmlyZCA9IGJpcmRJbWFnZXNbY3VycmVudEJpcmRGcmFtZVJlZi5jdXJyZW50XSB8fCBiaXJkSW1hZ2VzWzFdO1xyXG4gICAgICBpZiAoY3VycmVudEJpcmQuY29tcGxldGUpIHtcclxuICAgICAgICBjdHguZHJhd0ltYWdlKGN1cnJlbnRCaXJkLCBCSVJEX1gsIGJpcmRZUmVmLmN1cnJlbnQsIEJJUkRfU0laRSwgQklSRF9TSVpFKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIDkpIFN0YXJ0IHNjcmVlblxyXG4gICAgZnVuY3Rpb24gZHJhd1N0YXJ0U2NyZWVuKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKTtcclxuICAgICAgLy8gYmFja2dyb3VuZFxyXG4gICAgICBpZiAoYmFja2dyb3VuZEltZy5jb21wbGV0ZSkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoYmFja2dyb3VuZEltZywgMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKTtcclxuICAgICAgfVxyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICBjdHguZm9udCA9IFwiYm9sZCAyNHB4IEFyaWFsXCI7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgXCJQcmVzcyBTcGFjZSBvciBUYXBcIixcclxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxyXG4gICAgICAgIENBTlZBU19IRUlHSFQgLyAyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMTApIEdhbWUgT3ZlciBzY3JlZW5cclxuICAgIGZ1bmN0aW9uIGRyYXdHYW1lT3ZlclNjcmVlbihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCIjZmYzMzMzXCI7XHJcbiAgICAgIGN0eC5mb250ID0gXCJib2xkIDM2cHggQXJpYWxcIjtcclxuICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcIkdhbWUgT3ZlciFcIiwgQ0FOVkFTX1dJRFRIIC8gMiwgQ0FOVkFTX0hFSUdIVCAvIDIgLSA0MCk7XHJcblxyXG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICBjdHguZm9udCA9IFwiYm9sZCAyMHB4IEFyaWFsXCI7XHJcbiAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICBcIlByZXNzIFNwYWNlIG9yIFRhcCB0byBSZXN0YXJ0XCIsXHJcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcclxuICAgICAgICBDQU5WQVNfSEVJR0hUIC8gMlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDExKSBTcGF3biBwaXBlXHJcbiAgICBmdW5jdGlvbiBzcGF3blBpcGUoKSB7XHJcbiAgICAgIGNvbnN0IGdhcFkgPSBNYXRoLnJhbmRvbSgpICogKENBTlZBU19IRUlHSFQgLSBQSVBFX0dBUCAtIDEwMCkgKyA1MDtcclxuICAgICAgcGlwZXNSZWYuY3VycmVudC5wdXNoKHtcclxuICAgICAgICB4OiBDQU5WQVNfV0lEVEgsXHJcbiAgICAgICAgZ2FwWSxcclxuICAgICAgICBzY29yZWQ6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxMikgQ29sbGlzaW9uIGNoZWNrXHJcbiAgICBmdW5jdGlvbiBjaGVja0NvbGxpc2lvbigpOiBib29sZWFuIHtcclxuICAgICAgLy8gYmlyZCBvdXRzaWRlIGNhbnZhcz9cclxuICAgICAgaWYgKGJpcmRZUmVmLmN1cnJlbnQgPCAwIHx8IGJpcmRZUmVmLmN1cnJlbnQgKyBCSVJEX1NJWkUgPiBDQU5WQVNfSEVJR0hUKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHBpcGUgY29sbGlzaW9uXHJcbiAgICAgIGZvciAoY29uc3QgcGlwZSBvZiBwaXBlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY29uc3QgdG9wUGlwZUJvdHRvbSA9IHBpcGUuZ2FwWTtcclxuICAgICAgICBjb25zdCBib3R0b21QaXBlVG9wID0gcGlwZS5nYXBZICsgUElQRV9HQVA7XHJcblxyXG4gICAgICAgIGNvbnN0IGJpcmRSaWdodCA9IEJJUkRfWCArIEJJUkRfU0laRTtcclxuICAgICAgICBjb25zdCBwaXBlUmlnaHQgPSBwaXBlLnggKyBQSVBFX1dJRFRIO1xyXG5cclxuICAgICAgICAvLyBJZiBob3Jpem9udGFsbHkgb3ZlcmxhcHBpbmdcclxuICAgICAgICBpZiAoYmlyZFJpZ2h0ID4gcGlwZS54ICYmIEJJUkRfWCA8IHBpcGVSaWdodCkge1xyXG4gICAgICAgICAgLy8gaWYgYmlyZCBpcyBhYm92ZSBnYXAgb3IgYmVsb3cgZ2FwXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGJpcmRZUmVmLmN1cnJlbnQgPCB0b3BQaXBlQm90dG9tIHx8XHJcbiAgICAgICAgICAgIGJpcmRZUmVmLmN1cnJlbnQgKyBCSVJEX1NJWkUgPiBib3R0b21QaXBlVG9wXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxMykgQmlyZCBmbGFwIGFuaW1hdGlvblxyXG4gICAgZnVuY3Rpb24gZmxhcEFuaW1hdGlvbigpIHtcclxuICAgICAgLy8gUXVpY2sgMy1mcmFtZSBjeWNsZVxyXG4gICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAwOyAvLyB1cFxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAxOyAvLyBtaWRcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGN1cnJlbnRCaXJkRnJhbWVSZWYuY3VycmVudCA9IDI7IC8vIGRvd25cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjdXJyZW50QmlyZEZyYW1lUmVmLmN1cnJlbnQgPSAxOyAvLyBtaWRcclxuICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgfSwgMTUwKTtcclxuICAgICAgfSwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAxNCkgQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICBpZiAocmVxdWVzdElkUmVmLmN1cnJlbnQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RJZFJlZi5jdXJyZW50KTtcclxuICAgIH07XHJcbiAgfSwgW2NhbnZhc1JlZiwgaXNQYXVzZWQsIGF1dG9TdGFydF0pO1xyXG5cclxuICAvLyBXZSdsbCByZXR1cm4gYSBzdGFibGUgZnVuY3Rpb24gZm9yIG1vYmlsZSBjbGlja3NcclxuICBjb25zdCBoYW5kbGVVc2VySW5wdXQgPSAoKSA9PiB7XHJcbiAgICAvLyBXZSdsbCBkaXNwYXRjaCBhIFwia2V5ZG93blwiIGV2ZW50IHdpdGgga2V5OiBcIiBcIlxyXG4gICAgY29uc3Qgc3BhY2VFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5ZG93blwiLCB7IGtleTogXCIgXCIgfSk7XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChzcGFjZUV2ZW50KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaGlnaFNjb3JlLFxyXG4gICAgY3VycmVudFNjb3JlLFxyXG4gICAgaGFuZGxlVXNlcklucHV0LFxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ0FOVkFTX1dJRFRIIiwiQ0FOVkFTX0hFSUdIVCIsIkJJUkRfWCIsIkJJUkRfU0laRSIsIkdSQVZJVFkiLCJGTEFQIiwiUElQRV9HQVAiLCJQSVBFX1dJRFRIIiwiUElQRV9TUEVFRCIsIlBJUEVfU1BBV05fSU5URVJWQUwiLCJ1c2VGbGFwcHlCaXJkR2FtZSIsImNhbnZhc1JlZiIsImlzUGF1c2VkIiwiYXV0b1N0YXJ0IiwicmVxdWVzdElkUmVmIiwiaGlnaFNjb3JlIiwic2V0SGlnaFNjb3JlIiwiY3VycmVudFNjb3JlIiwic2V0Q3VycmVudFNjb3JlIiwiYmlyZFlSZWYiLCJiaXJkVmVsb2NpdHlSZWYiLCJwaXBlc1JlZiIsImZyYW1lUmVmIiwiZ2FtZU92ZXJSZWYiLCJnYW1lU3RhcnRlZFJlZiIsImJpcmRJbWFnZXMiLCJiYWNrZ3JvdW5kSW1nIiwicGlwZVRvcEltZyIsInBpcGVCb3RJbWciLCJiaXJkVXAiLCJJbWFnZSIsInNyYyIsImJpcmRNaWQiLCJiaXJkRG93biIsInB1c2giLCJjdXJyZW50QmlyZEZyYW1lUmVmIiwic2F2ZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VJbnQiLCJjYW52YXMiLCJjdXJyZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzZXRHYW1lIiwic3RhcnRHYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiZmxhcEFuaW1hdGlvbiIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSZXNpemUiLCJkcmF3U3RhcnRTY3JlZW4iLCJ0aW1lc3RhbXAiLCJ1cGRhdGUiLCJkcmF3IiwiZHJhd0dhbWVPdmVyU2NyZWVuIiwic3Bhd25QaXBlIiwicGlwZSIsIngiLCJmaWx0ZXIiLCJwIiwiY2hlY2tDb2xsaXNpb24iLCJzY29yZWQiLCJwcmV2IiwibmV3U2NvcmUiLCJwcmV2SGlnaCIsImJlc3QiLCJNYXRoIiwibWF4Iiwic2V0SXRlbSIsInRvU3RyaW5nIiwiY2xlYXJSZWN0IiwiY29tcGxldGUiLCJkcmF3SW1hZ2UiLCJnYXBZIiwidG9wSGVpZ2h0IiwiYm90dG9tWSIsImN1cnJlbnRCaXJkIiwiZmlsbFN0eWxlIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwicmFuZG9tIiwidG9wUGlwZUJvdHRvbSIsImJvdHRvbVBpcGVUb3AiLCJiaXJkUmlnaHQiLCJwaXBlUmlnaHQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlVXNlcklucHV0Iiwic3BhY2VFdmVudCIsIktleWJvYXJkRXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/useFlappyBirdGame.ts\n"));

/***/ })

});